import{r as d,u as l,j as e,A as te,M as z,V as B,S as se,O as re,C as ne,s as M,D as x}from"./index-Cfpy5n3g.js";const I=new re,E=new ne;function U({count:r=100,config:s={},position:h=[0,0,0],onComplete:f}){const t=d.useRef(),n=d.useRef([]),[a,o]=d.useState(!1),{emitOnce:i=!0,emitRate:c=50,lifetime:m=[.5,1.5],spawnShape:u="point",spawnRadius:p=.5,spawnBox:j=[1,1,1],velocity:P=[0,1,0],velocitySpread:G=[.5,.5,.5],radialVelocity:b=0,gravity:A=[0,-2,0],drag:_=0,sizeStart:w=.1,sizeEnd:$=0,sizeVariance:H=.02,colorStart:O="#ffffff",colorEnd:J="#ffffff",emissive:K="#ffffff",emissiveIntensity:N=2,opacityStart:Q=1,opacityEnd:X=0,rotationSpeed:Y=0,blending:Z=te,depthWrite:L=!1}=s;d.useEffect(()=>{const R=[];for(let g=0;g<r;g++)R.push({position:new B,velocity:new B,age:i?0:-Math.random()*(r/c),maxAge:z.randFloat(m[0],m[1]),size:w+(Math.random()-.5)*H*2,rotation:Math.random()*Math.PI*2,alive:i}),i&&W(R[g],{spawnShape:u,spawnRadius:p,spawnBox:j,velocity:P,velocitySpread:G,radialVelocity:b});n.current=R},[r]);const q=d.useMemo(()=>new se(1,8,8),[]);return l((R,g)=>{if(!t.current||a)return;const F=n.current;let V=0,D=0;const C=i?0:Math.floor(c*g*2);for(let S=0;S<F.length;S++){const y=F[S];if(!i&&!y.alive&&D<C&&(y.alive=!0,y.age=0,y.maxAge=z.randFloat(m[0],m[1]),W(y,{spawnShape:u,spawnRadius:p,spawnBox:j,velocity:P,velocitySpread:G,radialVelocity:b}),D++),!y.alive){I.scale.set(0,0,0),I.updateMatrix(),t.current.setMatrixAt(S,I.matrix);continue}if(y.age+=g,y.age>=y.maxAge){y.alive=!1,I.scale.set(0,0,0),I.updateMatrix(),t.current.setMatrixAt(S,I.matrix);continue}V++;const T=y.age/y.maxAge;y.velocity.x+=A[0]*g,y.velocity.y+=A[1]*g,y.velocity.z+=A[2]*g,_>0&&y.velocity.multiplyScalar(1-_*g),y.position.x+=y.velocity.x*g,y.position.y+=y.velocity.y*g,y.position.z+=y.velocity.z*g,y.rotation+=Y*g;const k=z.lerp(w,$,ie(T))*y.size/w;I.position.copy(y.position),I.scale.set(k,k,k),I.rotation.z=y.rotation,I.updateMatrix(),t.current.setMatrixAt(S,I.matrix);const ee=z.lerp(Q,X,T);E.set(O).lerp(E.set(J),T),E.multiplyScalar(ee),t.current.setColorAt(S,E)}t.current.instanceMatrix.needsUpdate=!0,t.current.instanceColor&&(t.current.instanceColor.needsUpdate=!0),i&&V===0&&!a&&(o(!0),f==null||f())}),a?null:e.jsx("group",{position:h,children:e.jsx("instancedMesh",{ref:t,args:[q,void 0,r],frustumCulled:!1,children:e.jsx("meshStandardMaterial",{emissive:K,emissiveIntensity:N,color:O,transparent:!0,opacity:1,blending:Z,depthWrite:L,toneMapped:!1})})})}function W(r,s){const{spawnShape:h,spawnRadius:f,spawnBox:t,velocity:n,velocitySpread:a,radialVelocity:o}=s;switch(h){case"sphere":{const i=Math.random()*Math.PI*2,c=Math.acos(2*Math.random()-1),m=Math.cbrt(Math.random())*f;r.position.set(m*Math.sin(c)*Math.cos(i),m*Math.sin(c)*Math.sin(i),m*Math.cos(c));break}case"ring":{const i=Math.random()*Math.PI*2;r.position.set(Math.cos(i)*f,0,Math.sin(i)*f);break}case"box":{r.position.set((Math.random()-.5)*t[0],(Math.random()-.5)*t[1],(Math.random()-.5)*t[2]);break}default:r.position.set(0,0,0)}if(r.velocity.set(n[0]+(Math.random()-.5)*a[0]*2,n[1]+(Math.random()-.5)*a[1]*2,n[2]+(Math.random()-.5)*a[2]*2),o!==0){const i=r.position.clone().normalize();i.length()<.001&&i.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),r.velocity.add(i.multiplyScalar(o))}}const ie=r=>1-Math.pow(1-r,3);function ae({position:r=[0,0,0],count:s=60,color:h="#4fc3f7",radius:f=.45}){const t=d.useRef();return l(n=>{t.current&&(t.current.rotation.y=n.clock.elapsedTime*.8)}),e.jsx("group",{ref:t,position:r,children:e.jsx(U,{count:s,config:{emitOnce:!1,emitRate:20,lifetime:[1,2],spawnShape:"ring",spawnRadius:f,velocity:[0,.5,0],velocitySpread:[.1,.1,.1],gravity:[0,0,0],sizeStart:.03,sizeEnd:.01,colorStart:h,colorEnd:"#e1f5fe",emissive:h,emissiveIntensity:4,opacityStart:.9,opacityEnd:0}})})}function oe({position:r=[0,0,0],count:s=40,color:h="#76ff03",intensity:f=1}){return e.jsx(U,{position:r,count:s,config:{emitOnce:!1,emitRate:15*f,lifetime:[.8,1.5],spawnShape:"ring",spawnRadius:.3,velocity:[0,-.3,0],velocitySpread:[.2,.1,.2],gravity:[0,-1,0],sizeStart:.04,sizeEnd:.06,colorStart:h,colorEnd:"#b2ff59",emissive:h,emissiveIntensity:2*f,opacityStart:.7,opacityEnd:0}})}const v=r=>1-Math.pow(1-r,3),ce=r=>{const s=2*Math.PI/3;return r===0?0:r===1?1:Math.pow(2,-10*r)*Math.sin((r*10-.75)*s)+1};function pe({square:r}){if(!r)return null;const[s,,h]=M(r),f=d.useRef(),t=d.useRef(),n=d.useRef(),a=d.useRef(),o=d.useMemo(()=>[...Array(6)].map((i,c)=>{const m=c/6*Math.PI*2;return[Math.cos(m)*.4,.5,Math.sin(m)*.4]}),[]);return l(i=>{const c=i.clock.elapsedTime;if(f.current&&(f.current.rotation.y=c*.5),t.current){const m=Math.sin(c*4)*.08+1;t.current.scale.set(m,1,m),t.current.material.opacity=.3+Math.sin(c*3)*.1}n.current&&(n.current.rotation.y=-c*.3,n.current.material.opacity=.15+Math.sin(c*2)*.05),a.current&&a.current.children.forEach((m,u)=>{const p=u/6*Math.PI*2;m.position.y=.5+Math.sin(c*2+p)*.1,m.material.opacity=.6+Math.sin(c*3+p)*.3})}),e.jsxs("group",{position:[s,0,h],ref:f,children:[e.jsxs("mesh",{ref:t,position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.45,.45,1,32,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2.5,color:"#81d4fa",transparent:!0,opacity:.35,side:x})]}),e.jsxs("mesh",{ref:n,position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.55,.55,.9,6,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#29b6f6",emissiveIntensity:1.5,color:"#4fc3f7",transparent:!0,opacity:.2,wireframe:!0})]}),e.jsx("group",{ref:a,children:o.map((i,c)=>e.jsxs("mesh",{position:i,children:[e.jsx("octahedronGeometry",{args:[.08,0]}),e.jsx("meshStandardMaterial",{emissive:"#e1f5fe",emissiveIntensity:3,color:"#e1f5fe",transparent:!0,opacity:.8})]},c))}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.4,.55,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2,color:"#4fc3f7",transparent:!0,opacity:.4,side:x})]}),e.jsx(ae,{color:"#4fc3f7",radius:.4,count:40})]})}function le({square:r,turnsLeft:s}){if(!r)return null;const[h,,f]=M(r),t=d.useRef(),n=d.useRef(),a=s===1?3:s===2?2:1.2,o=s===1?"#76ff03":s===2?"#8bc34a":"#558b2f",i=d.useMemo(()=>[...Array(8)].map(()=>({angle:Math.random()*Math.PI*2,radius:.2+Math.random()*.2,speed:.5+Math.random()*.5,size:.04+Math.random()*.04,phase:Math.random()*Math.PI*2})),[]);return l(c=>{const m=c.clock.elapsedTime;if(t.current&&(t.current.rotation.y=m*.3*a),n.current){const u=Math.sin(m*3*a)*.1+1;n.current.scale.set(u,1,u)}}),e.jsxs("group",{position:[h,0,f],ref:t,children:[e.jsxs("mesh",{ref:n,position:[0,.4,0],children:[e.jsx("cylinderGeometry",{args:[.4,.35,.8,16,1,!0]}),e.jsx("meshStandardMaterial",{emissive:o,emissiveIntensity:a*1.5,color:o,transparent:!0,opacity:.35,side:x})]}),[...Array(6)].map((c,m)=>e.jsx(he,{angle:m/6*Math.PI*2,radius:.35,color:o,speed:a,delay:m*.3},m)),i.map((c,m)=>e.jsx(me,{...c,urgency:a,color:o},m)),s===1&&e.jsxs("mesh",{position:[0,.9,0],children:[e.jsx("octahedronGeometry",{args:[.12,0]}),e.jsx("meshStandardMaterial",{emissive:"#ff1744",emissiveIntensity:4,color:"#ff1744",transparent:!0,opacity:.9})]}),e.jsxs("mesh",{position:[0,.02,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("circleGeometry",{args:[.4,32]}),e.jsx("meshStandardMaterial",{emissive:o,emissiveIntensity:1,color:o,transparent:!0,opacity:.25})]}),e.jsx(oe,{color:o,intensity:a,count:30})]})}function he({angle:r,radius:s,color:h,speed:f,delay:t}){const n=d.useRef();return l(a=>{if(n.current){const o=(a.clock.elapsedTime*f+t)%2/2,i=.8-o*.7;n.current.position.y=i,n.current.material.opacity=o<.1?o*10:o>.9?(1-o)*10:.7,n.current.scale.y=1+o*2}}),e.jsxs("mesh",{ref:n,position:[Math.cos(r)*s,.8,Math.sin(r)*s],children:[e.jsx("sphereGeometry",{args:[.03,8,8]}),e.jsx("meshStandardMaterial",{emissive:h,emissiveIntensity:2,color:h,transparent:!0,opacity:.7})]})}function me({angle:r,radius:s,speed:h,size:f,phase:t,urgency:n,color:a}){const o=d.useRef();return l(i=>{if(o.current){const c=(i.clock.elapsedTime*h*n+t)%1.5/1.5,m=.1+c*.8;o.current.position.y=m,o.current.position.x=Math.cos(r+c*2)*s,o.current.position.z=Math.sin(r+c*2)*s,o.current.material.opacity=Math.sin(c*Math.PI)*.6;const u=f*(1+Math.sin(c*Math.PI)*.5);o.current.scale.set(u/.05,u/.05,u/.05)}}),e.jsxs("mesh",{ref:o,position:[Math.cos(r)*s,.1,Math.sin(r)*s],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{emissive:a,emissiveIntensity:3,color:a,transparent:!0,opacity:.5})]})}function ye({square:r}){if(!r)return null;const[s,,h]=M(r),f=d.useRef(),t=d.useRef();return l(n=>{const a=n.clock.elapsedTime;if(f.current&&(f.current.rotation.y=a*.5),t.current){const o=Math.sin(a*3)*.1+1;t.current.scale.set(o,o,o)}}),e.jsxs("group",{position:[s,0,h],ref:f,children:[e.jsxs("mesh",{ref:t,position:[0,.4,0],children:[e.jsx("octahedronGeometry",{args:[.5,1]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffca28",transparent:!0,opacity:.25,wireframe:!0})]}),e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("sphereGeometry",{args:[.3,16,16]}),e.jsx("meshStandardMaterial",{emissive:"#fff59d",emissiveIntensity:1.5,color:"#fff59d",transparent:!0,opacity:.2})]}),[0,120,240].map((n,a)=>e.jsx(fe,{baseAngle:n,color:"#ffc107"},a)),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffd54f",transparent:!0,opacity:.5})]})]})}function fe({baseAngle:r,color:s}){const h=d.useRef();return l(f=>{if(h.current){const t=f.clock.elapsedTime,n=r*Math.PI/180+t*1.5;h.current.position.x=Math.cos(n)*.45,h.current.position.z=Math.sin(n)*.45,h.current.position.y=.4+Math.sin(t*2+r)*.1,h.current.rotation.y=-n}}),e.jsxs("mesh",{ref:h,children:[e.jsx("boxGeometry",{args:[.08,.12,.02]}),e.jsx("meshStandardMaterial",{emissive:s,emissiveIntensity:3,color:s,transparent:!0,opacity:.8})]})}function xe({square:r,onComplete:s}){if(!r)return null;const[h,,f]=M(r),[t,n]=d.useState(0),a=d.useRef();l((c,m)=>{n(u=>{const p=u+m*1.2;return p>=1&&s&&s(),Math.min(p,1)}),a.current&&(a.current.rotation.y=c.clock.elapsedTime*2)});const o=ce(t),i=t<.8?1:(1-t)*5;return e.jsxs("group",{position:[h,0,f],ref:a,scale:[o,o,o],children:[e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("octahedronGeometry",{args:[.5,1]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:3,color:"#ffca28",transparent:!0,opacity:i*.4,wireframe:!0})]}),[...Array(12)].map((c,m)=>{const u=m/12*Math.PI*2,p=t*.8;return e.jsxs("mesh",{position:[Math.cos(u)*p,.4,Math.sin(u)*p],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#fff59d",emissiveIntensity:4,color:"#fff59d",transparent:!0,opacity:i*.8})]},m)})]})}function Me({onComplete:r}){const[s,h]=d.useState(0),f=d.useRef(),t=d.useMemo(()=>[...Array(80)].map(()=>({x:(Math.random()-.5)*12,z:(Math.random()-.5)*12,y:.1+Math.random()*.8,scale:.4+Math.random()*.6,speed:.15+Math.random()*.25,phase:Math.random()*Math.PI*2})),[]);return l((n,a)=>{r&&h(o=>{const i=o+a*.5;return i>=1&&r(),Math.min(i,1)})}),e.jsx("group",{ref:f,children:t.map((n,a)=>e.jsx(de,{...n,progress:s,hasComplete:!!r},a))})}function de({x:r,z:s,y:h,scale:f,speed:t,phase:n,progress:a,hasComplete:o}){const i=d.useRef();return l(c=>{if(i.current){const m=c.clock.elapsedTime;i.current.position.x=r+Math.sin(m*t+n)*.8,i.current.position.z=s+Math.cos(m*t+n)*.8,i.current.position.y=h+Math.sin(m*t*2+n)*.15;const u=o?.2*(1-a):.2;i.current.material.opacity=u+Math.sin(m+n)*.05}}),e.jsxs("mesh",{ref:i,position:[r,h,s],children:[e.jsx("sphereGeometry",{args:[f,12,12]}),e.jsx("meshStandardMaterial",{emissive:"#1a237e",emissiveIntensity:.3,color:"#283593",transparent:!0,opacity:.2})]})}function je({square:r,onComplete:s}){if(!r)return null;const[h,,f]=M(r),[t,n]=d.useState(0);l((o,i)=>{n(c=>{const m=c+i*1.5;return m>=1&&s&&s(),Math.min(m,1)})});const a=1-v(t);return e.jsxs("group",{position:[h,0,f],children:[[0,.15,.3].map((o,i)=>{const c=Math.max(0,Math.min(1,(t-o)/.7)),m=v(c)*1.5,u=(1-c)*.6;return e.jsxs("mesh",{position:[0,.3,0],rotation:[-Math.PI/2,0,0],scale:[m,m,1],children:[e.jsx("ringGeometry",{args:[.3,.4,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffab91",emissiveIntensity:2,color:"#ffccbc",transparent:!0,opacity:u,side:x})]},i)}),e.jsxs("mesh",{position:[0,.3,0],children:[e.jsx("sphereGeometry",{args:[.2*(1-t*.5),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ff8a65",emissiveIntensity:3*a,color:"#ffab91",transparent:!0,opacity:a*.5})]}),[...Array(8)].map((o,i)=>{const c=i/8*Math.PI*2,m=v(t)*1;return e.jsxs("mesh",{position:[Math.cos(c)*m,.3,Math.sin(c)*m],children:[e.jsx("sphereGeometry",{args:[.06*a,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ffccbc",emissiveIntensity:3,color:"#ffccbc",transparent:!0,opacity:a*.8})]},i)})]})}function ge({onComplete:r}){const[s,h]=d.useState(0);return l((f,t)=>{h(n=>{const a=n+t*1.2;return a>=1&&r&&r(),Math.min(a,1)})}),e.jsxs("group",{children:[[...Array(20)].map((f,t)=>{const n=t%5*2-4,a=Math.floor(t/5)*2-3,o=t*.03,i=Math.max(0,Math.min(1,(s-o)/.6));return e.jsxs("mesh",{position:[n,.3,a+i*2],rotation:[Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[.1,.8*i]}),e.jsx("meshStandardMaterial",{emissive:"#4dd0e1",emissiveIntensity:3*(1-i),color:"#80deea",transparent:!0,opacity:(1-i)*.7,side:x})]},t)}),e.jsxs("mesh",{position:[0,.1,s*8-4],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[10,.5]}),e.jsx("meshStandardMaterial",{emissive:"#00bcd4",emissiveIntensity:4*(1-s),color:"#4dd0e1",transparent:!0,opacity:(1-s)*.5,side:x})]})]})}function ve({square:r,onComplete:s}){if(!r)return null;const[h,,f]=M(r),[t,n]=d.useState(0),a=d.useRef(),o=d.useMemo(()=>[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],[]);return l((i,c)=>{n(m=>{const u=m+c*1.5;return u>=1&&s&&s(),Math.min(u,1)}),a.current&&(a.current.rotation.y=i.clock.elapsedTime*2)}),e.jsxs("group",{position:[h,0,f],ref:a,children:[e.jsxs("mesh",{position:[0,.5,0],children:[e.jsx("sphereGeometry",{args:[.25*(1-t*.3),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ce93d8",emissiveIntensity:3,color:"#e1bee7",transparent:!0,opacity:(1-t)*.6})]}),o.map(([i,c],m)=>{const u=m*.06,p=Math.max(0,Math.min(1,(t-u)/.7)),j=v(p);return e.jsxs("group",{children:[e.jsxs("mesh",{position:[i*.3*j,.4,c*.3*j],children:[e.jsx("sphereGeometry",{args:[.1*(1-p),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ba68c8",emissiveIntensity:3*(1-p),color:"#ce93d8",transparent:!0,opacity:(1-p)*.7})]}),e.jsxs("mesh",{position:[i*.3,.4,c*.3],children:[e.jsx("sphereGeometry",{args:[.08*p,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#e1bee7",emissiveIntensity:2,color:"#e1bee7",transparent:!0,opacity:p*.5*(1-t)})]})]},m)})]})}function Ie({square:r,onComplete:s}){if(!r)return null;const[h,,f]=M(r),[t,n]=d.useState(0);return l((a,o)=>{n(i=>{const c=i+o*1.2;return c>=1&&s&&s(),Math.min(c,1)})}),e.jsxs("group",{position:[h,0,f],children:[[...Array(8)].map((a,o)=>{const i=o*.12,c=Math.max(0,Math.min(1,(t-i)/.6)),m=.3+c*.3,u=(o-4)*.3;return e.jsxs("mesh",{position:[0,m,u],children:[e.jsx("boxGeometry",{args:[.3,.5*(1-c*.5),.15]}),e.jsx("meshStandardMaterial",{emissive:"#5c6bc0",emissiveIntensity:2*(1-c),color:"#7986cb",transparent:!0,opacity:(1-c)*.5,wireframe:!0})]},o)}),e.jsxs("mesh",{position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.2,.3,.8,8]}),e.jsx("meshStandardMaterial",{emissive:"#7c4dff",emissiveIntensity:2*(1-t),color:"#b388ff",transparent:!0,opacity:(1-t)*.4})]})]})}function Se({onComplete:r}){const[s,h]=d.useState(0),f=d.useRef();return l((t,n)=>{h(a=>{const o=a+n*1.5;return o>=1&&r&&r(),Math.min(o,1)}),f.current&&(f.current.rotation.y=t.clock.elapsedTime*2)}),e.jsxs("group",{ref:f,children:[[...Array(24)].map((t,n)=>{const a=n/24*Math.PI*2,o=s*2.5,i=Math.sin(s*Math.PI)*1.5;return e.jsxs("mesh",{position:[Math.cos(a)*o,.2+i*(.5+Math.random()*.5),Math.sin(a)*o],children:[e.jsx("sphereGeometry",{args:[.06*(1-s*.5),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#76ff03",emissiveIntensity:3*(1-s),color:"#b2ff59",transparent:!0,opacity:(1-s)*.8})]},n)}),e.jsxs("mesh",{position:[0,.3,0],scale:[s*3,s*.5,s*3],children:[e.jsx("cylinderGeometry",{args:[1,1.2,.3,16,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#64dd17",emissiveIntensity:2*(1-s),color:"#76ff03",transparent:!0,opacity:(1-s)*.3,side:x})]})]})}function Pe({onComplete:r}){const[s,h]=d.useState(0);return l((f,t)=>{h(n=>{const a=n+t*.8;return a>=1&&r&&r(),Math.min(a,1)})}),e.jsxs("group",{children:[[-3.5,-2.5,-1.5,-.5,.5,1.5,2.5,3.5].map((f,t)=>e.jsxs("mesh",{position:[f,v(s)*.4,-2.5],scale:[.8,v(s),.2],children:[e.jsx("boxGeometry",{args:[1,.8,1]}),e.jsx("meshStandardMaterial",{emissive:"#78909c",emissiveIntensity:1.5*(1-s*.5),color:"#90a4ae",transparent:!0,opacity:.7*(1-s*.3)})]},t)),e.jsxs("mesh",{position:[0,.3,-2.5],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[8,1]}),e.jsx("meshStandardMaterial",{emissive:"#b0bec5",emissiveIntensity:2*(1-s),color:"#cfd8dc",transparent:!0,opacity:(1-s)*.4,side:x})]})]})}function be({onComplete:r}){const[s,h]=d.useState(0),f=d.useRef();return l((t,n)=>{h(a=>{const o=a+n*.6;return o>=1&&r&&r(),Math.min(o,1)}),f.current&&(f.current.rotation.y=t.clock.elapsedTime)}),e.jsxs("group",{ref:f,children:[e.jsxs("mesh",{position:[0,3,0],children:[e.jsx("cylinderGeometry",{args:[.1,2,6,32,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#fff9c4",emissiveIntensity:3*v(s),color:"#ffecb3",transparent:!0,opacity:.4*(1-s*.5),side:x})]}),[0,1,2].map(t=>e.jsxs("mesh",{position:[0,.5+t*.4,0],rotation:[-Math.PI/2,0,s*Math.PI*2],scale:[1-t*.2,1-t*.2,1],children:[e.jsx("ringGeometry",{args:[.4,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffecb3",transparent:!0,opacity:.6*(1-s*.5),side:x})]},t)),[...Array(12)].map((t,n)=>{const a=n/12*Math.PI*2,o=n*.05,i=Math.max(0,Math.min(1,(s-o)/.8));return e.jsxs("mesh",{position:[Math.cos(a)*(.5+i*2),2-i*1.5,Math.sin(a)*(.5+i*2)],rotation:[0,-a,Math.PI/4],children:[e.jsx("planeGeometry",{args:[.1,.3]}),e.jsx("meshStandardMaterial",{emissive:"#ffffff",emissiveIntensity:3,color:"#ffffff",transparent:!0,opacity:(1-i)*.8,side:x})]},n)})]})}function Ge({square:r,onComplete:s}){if(!r)return null;const[h,,f]=M(r),[t,n]=d.useState(0);return l((a,o)=>{n(i=>{const c=i+o*2;return c>=1&&s&&s(),Math.min(c,1)})}),e.jsxs("group",{position:[h,0,f],children:[e.jsxs("mesh",{position:[0,.5,0],rotation:[0,Math.PI/4,0],children:[e.jsx("boxGeometry",{args:[.1,.8*v(t),.02]}),e.jsx("meshStandardMaterial",{emissive:"#f44336",emissiveIntensity:4,color:"#ff5252",transparent:!0,opacity:1-t*.3})]}),e.jsxs("mesh",{position:[0,.5,0],rotation:[0,-Math.PI/4,0],children:[e.jsx("boxGeometry",{args:[.1,.8*v(t),.02]}),e.jsx("meshStandardMaterial",{emissive:"#f44336",emissiveIntensity:4,color:"#ff5252",transparent:!0,opacity:1-t*.3})]}),[...Array(16)].map((a,o)=>{const i=o/16*Math.PI*2,c=t*1.5;return e.jsxs("mesh",{position:[Math.cos(i)*c,.5+Math.sin(t*Math.PI)*.5,Math.sin(i)*c],children:[e.jsx("boxGeometry",{args:[.08,.08,.08]}),e.jsx("meshStandardMaterial",{emissive:"#ff1744",emissiveIntensity:3*(1-t),color:"#ff5252",transparent:!0,opacity:(1-t)*.9})]},o)})]})}function Re({onComplete:r}){const[s,h]=d.useState(0);return l((f,t)=>{h(n=>{const a=n+t*.8;return a>=1&&r&&r(),Math.min(a,1)})}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,2,0],rotation:[Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.8,1,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2*v(s),color:"#81d4fa",transparent:!0,opacity:.5*(1-s*.3),side:x})]}),[...Array(24)].map((f,t)=>{const n=t/24*Math.PI*2,a=v(s)*5,o=t*.02,i=Math.max(0,Math.min(1,(s-o)/.8));return e.jsxs("mesh",{position:[Math.cos(n)*a,.1,Math.sin(n)*a],rotation:[0,n,0],children:[e.jsx("coneGeometry",{args:[.1,.4*i,4]}),e.jsx("meshStandardMaterial",{emissive:"#e1f5fe",emissiveIntensity:2,color:"#b3e5fc",transparent:!0,opacity:(1-s*.5)*.7})]},t)}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],scale:[s*6,s*6,1],children:[e.jsx("circleGeometry",{args:[1,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:1.5*(1-s),color:"#81d4fa",transparent:!0,opacity:(1-s)*.3})]})]})}function ze({onComplete:r}){const[s,h]=d.useState(0);return l((f,t)=>{h(n=>{const a=n+t*.6;return a>=1&&r&&r(),Math.min(a,1)})}),e.jsxs("group",{children:[[...Array(12)].map((f,t)=>{const n=t/12*Math.PI*2-s*Math.PI*4,a=2+t*.3,o=Math.sin((s+t/12)*Math.PI)*2;return e.jsxs("mesh",{position:[Math.cos(n)*a,o,Math.sin(n)*a],children:[e.jsx("sphereGeometry",{args:[.15,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#3498db",emissiveIntensity:2*(1-s*.5),color:"#64b5f6",transparent:!0,opacity:(1-s*.6)*.8})]},t)}),[...Array(16)].map((f,t)=>{const n=t/16*Math.PI*2+s*.5,a=v(s)*3;return e.jsxs("mesh",{position:[Math.cos(n)*a,.3+Math.sin(s*Math.PI+t)*.2,Math.sin(n)*a],children:[e.jsx("boxGeometry",{args:[.12,.12,.12]}),e.jsx("meshStandardMaterial",{emissive:"#1e88e5",emissiveIntensity:1.5*(1-s),color:"#42a5f5",transparent:!0,opacity:(1-s*.8)*.5})]},`trail-${t}`)}),e.jsxs("mesh",{position:[0,.02,0],rotation:[-Math.PI/2,0,0],scale:[s*8,s*8,1],children:[e.jsx("ringGeometry",{args:[s*3,s*3.2,32]}),e.jsx("meshStandardMaterial",{emissive:"#2196f3",emissiveIntensity:1.5*(1-s),color:"#64b5f6",transparent:!0,opacity:(1-s*.5)*.4})]}),e.jsxs("mesh",{position:[0,1,0],rotation:[0,s*Math.PI*2,0],children:[e.jsx("dodecahedronGeometry",{args:[2,2]}),e.jsx("meshStandardMaterial",{emissive:"#0d47a1",emissiveIntensity:.8*(1-s),color:"#1565c0",transparent:!0,opacity:(1-s*.7)*.3,wireframe:!0})]})]})}function Ee({origin:r,chained:s,onComplete:h}){const[f,t]=d.useState(0);l((a,o)=>{t(i=>{const c=i+o*2.5;return c>=1&&h&&h(),Math.min(c,1)})});const n=r?M(r):[0,0,0];return e.jsxs("group",{children:[e.jsxs("mesh",{position:[n[0],.5,n[2]],children:[e.jsx("sphereGeometry",{args:[.2*(1-f*.5),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ffeb3b",emissiveIntensity:5*(1-f),color:"#fff59d",transparent:!0,opacity:(1-f)*.9})]}),(s||[]).map((a,o)=>{const i=M(a),c=o*.1,m=Math.max(0,Math.min(1,(f-c)/.6));return e.jsxs("group",{children:[[...Array(5)].map((u,p)=>{const j=p/4,P=n[0]+(i[0]-n[0])*j*m,G=n[2]+(i[2]-n[2])*j*m,b=Math.sin(p*3+f*10)*.1;return e.jsxs("mesh",{position:[P+b,.5+Math.sin(j*Math.PI)*.3,G+b],children:[e.jsx("sphereGeometry",{args:[.08,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#fff176",emissiveIntensity:4*(1-m*.5),color:"#ffeb3b",transparent:!0,opacity:(1-m)*.9})]},p)}),e.jsxs("mesh",{position:[i[0],.5,i[2]],children:[e.jsx("sphereGeometry",{args:[.15*m,12,12]}),e.jsx("meshStandardMaterial",{emissive:"#ffeb3b",emissiveIntensity:5*m*(1-f),color:"#fff59d",transparent:!0,opacity:m*(1-f)*.9})]})]},o)})]})}function Ae({shuffledSquares:r=[],onComplete:s}){const[h,f]=d.useState(0),t=d.useRef(),n=150,a=d.useMemo(()=>[...Array(n)].map(()=>({theta:Math.random()*Math.PI*2,phi:Math.random()*Math.PI,speed:1+Math.random()*2,radius:3+Math.random()*3,offset:Math.random()*Math.PI*2,size:.03+Math.random()*.05,color:Math.random()>.5?"#9b59b6":"#8e44ad"})),[]);l((i,c)=>{f(m=>{const u=m+c/3;return u>=1?(s==null||s(),1):u}),t.current&&(t.current.rotation.y+=c*.8)});const o=h<.1?h*10:h>.8?(1-h)*5:1;return e.jsxs("group",{ref:t,position:[0,2,0],children:[e.jsxs("mesh",{children:[e.jsx("torusGeometry",{args:[2,.1,16,100]}),e.jsx("meshStandardMaterial",{emissive:"#9b59b6",emissiveIntensity:3,color:"#8e44ad",transparent:!0,opacity:o*.6})]}),a.map((i,c)=>{const m=h*i.speed+i.offset,u=i.radius*(1-Math.abs(h-.5)),p=Math.sin(i.phi)*Math.cos(i.theta+m*3)*u,j=Math.cos(i.phi)*u*.5+Math.sin(m*5)*.3,P=Math.sin(i.phi)*Math.sin(i.theta+m*3)*u;return e.jsxs("mesh",{position:[p,j,P],children:[e.jsx("sphereGeometry",{args:[i.size,8,8]}),e.jsx("meshStandardMaterial",{emissive:i.color,emissiveIntensity:2,color:i.color,transparent:!0,opacity:o*.8})]},c)}),r.map((i,c)=>{const[m,,u]=M(i),p=c*.5,j=Math.sin(h*Math.PI*4+p)*.2+1;return e.jsxs("mesh",{position:[m,.1,u],scale:[j,1,j],children:[e.jsx("cylinderGeometry",{args:[.4,.4,.05,32]}),e.jsx("meshStandardMaterial",{emissive:"#9b59b6",emissiveIntensity:3*o,color:"#8e44ad",transparent:!0,opacity:o*.6})]},i)})]})}function we({onComplete:r}){const[s,h]=d.useState(0);return l((f,t)=>{h(n=>{const a=n+t*1.2;return a>=1&&r&&r(),Math.min(a,1)})}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,3,0],rotation:[Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.3,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#7e57c2",emissiveIntensity:3*v(s),color:"#9575cd",transparent:!0,opacity:.7*(1-s*.3),side:x})]}),e.jsxs("mesh",{position:[0,3,0],rotation:[Math.PI/2,0,0],children:[e.jsx("circleGeometry",{args:[.2,32]}),e.jsx("meshStandardMaterial",{emissive:"#311b92",emissiveIntensity:2,color:"#4527a0",transparent:!0,opacity:.9*(1-s*.3)})]}),[...Array(8)].map((f,t)=>{const n=t/8*Math.PI*2+s*Math.PI;return e.jsxs("mesh",{position:[0,1.5,0],rotation:[Math.PI/4,n,0],children:[e.jsx("planeGeometry",{args:[.05,4]}),e.jsx("meshStandardMaterial",{emissive:"#b39ddb",emissiveIntensity:2*(1-s),color:"#d1c4e9",transparent:!0,opacity:(1-s)*.4,side:x})]},t)})]})}function Te({square:r,onComplete:s}){const[h,f]=d.useState(0),t=d.useRef(),[n,,a]=r?M(r):[0,0,0];l((i,c)=>{f(m=>{const u=m+c/2;return u>=1?(s==null||s(),1):u}),t.current&&(t.current.rotation.y+=c*.5)});const o=h<.1?h*10:h>.8?(1-h)*5:1;return e.jsxs("group",{position:[n,0,a],ref:t,children:[e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("sphereGeometry",{args:[.5,32,16,0,Math.PI*2,0,Math.PI/2]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:2,color:"#ffeb3b",transparent:!0,opacity:o*.3,side:x})]}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.4,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:3,color:"#ffeb3b",transparent:!0,opacity:o*.6})]}),[...Array(12)].map((i,c)=>{const m=c/12*Math.PI*2,u=.35,p=(h+c*.1)%1;return e.jsxs("mesh",{position:[Math.cos(m)*u,p*.8,Math.sin(m)*u],children:[e.jsx("sphereGeometry",{args:[.02,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:3,color:"#ffeb3b",transparent:!0,opacity:o*(1-p)})]},c)})]})}function ke({square:r}){const[s,,h]=r?M(r):[0,0,0],f=d.useRef();return l(t=>{const n=t.clock.elapsedTime;f.current&&(f.current.material.opacity=.3+Math.sin(n*2)*.15)}),e.jsx("group",{position:[s,.12,h],children:e.jsxs("mesh",{ref:f,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:2,color:"#ffeb3b",transparent:!0,opacity:.4,side:x,depthWrite:!1})]})})}function _e({square:r,onComplete:s}){const[h,f]=d.useState(0),t=d.useRef(),[n,,a]=r?M(r):[0,0,0];l((i,c)=>{f(m=>{const u=m+c/2;return u>=1?(s==null||s(),1):u}),t.current&&(t.current.rotation.y-=c*.8)});const o=h<.1?h*10:h>.8?(1-h)*5:1;return e.jsxs("group",{position:[n,0,a],ref:t,children:[e.jsxs("mesh",{position:[0,.1,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.1,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:o*.5})]}),[...Array(20)].map((i,c)=>{const m=c/20*Math.PI*2,u=.3*Math.random()+.1,p=(h*2+c*.05)%1;return e.jsxs("mesh",{position:[Math.cos(m+h*3)*u,p*.6,Math.sin(m+h*3)*u],children:[e.jsx("sphereGeometry",{args:[.015,6,6]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:o*(1-p)*.8})]},c)}),[...Array(4)].map((i,c)=>{const m=c/4*Math.PI*2+h*2;return e.jsxs("mesh",{position:[Math.cos(m)*.3,.2,Math.sin(m)*.3],children:[e.jsx("cylinderGeometry",{args:[.01,.02,.3,8]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:o*.6})]},c)})]})}function Oe({square:r,turnsLeft:s}){const[h,,f]=r?M(r):[0,0,0],t=d.useRef();return l(n=>{const a=n.clock.elapsedTime;t.current&&(t.current.rotation.z=a*.5,t.current.material.opacity=.3+Math.sin(a*3)*.1)}),e.jsx("group",{position:[h,.12,f],children:e.jsxs("mesh",{ref:t,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.42,6]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:.4,side:x,depthWrite:!1})]})})}export{Ee as ChainLightningEffect,Ae as ChaosTheoryEffect,_e as CursedSquareEffect,Oe as CursedSquareIndicatorEffect,be as DivineInterventionEffect,Ge as ExecutionEffect,Me as FogOfWarEffect,Pe as IronFortressEffect,ge as PawnRushEffect,ve as PhantomStepEffect,Se as PoisonTouchEffect,le as PoisonedPieceEffect,Te as SanctuaryEffect,ke as SanctuaryIndicatorEffect,pe as ShieldGlowEffect,je as SoftPushEffect,Ie as SpectralMarchEffect,xe as SquireSupportAnimationEffect,ye as SquireSupportEffect,Re as TimeFreezeEffect,ze as TimeTravelEffect,we as VisionEffect};
