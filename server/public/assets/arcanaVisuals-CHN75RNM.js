import{s as y,r as d,u as l,j as e,D as x}from"./index-BUrVdtRu.js";const M=o=>1-Math.pow(1-o,3),S=o=>{const t=2*Math.PI/3;return o===0?0:o===1?1:Math.pow(2,-10*o)*Math.sin((o*10-.75)*t)+1};function A({square:o}){if(!o)return null;const[t,,m]=y(o),f=d.useRef(),s=d.useRef(),i=d.useRef(),c=d.useRef(),a=d.useMemo(()=>[...Array(6)].map((r,n)=>{const h=n/6*Math.PI*2;return[Math.cos(h)*.4,.5,Math.sin(h)*.4]}),[]);return l(r=>{const n=r.clock.elapsedTime;if(f.current&&(f.current.rotation.y=n*.5),s.current){const h=Math.sin(n*4)*.08+1;s.current.scale.set(h,1,h),s.current.material.opacity=.3+Math.sin(n*3)*.1}i.current&&(i.current.rotation.y=-n*.3,i.current.material.opacity=.15+Math.sin(n*2)*.05),c.current&&c.current.children.forEach((h,u)=>{const p=u/6*Math.PI*2;h.position.y=.5+Math.sin(n*2+p)*.1,h.material.opacity=.6+Math.sin(n*3+p)*.3})}),e.jsxs("group",{position:[t,0,m],ref:f,children:[e.jsxs("mesh",{ref:s,position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.45,.45,1,32,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2.5,color:"#81d4fa",transparent:!0,opacity:.35,side:x})]}),e.jsxs("mesh",{ref:i,position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.55,.55,.9,6,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#29b6f6",emissiveIntensity:1.5,color:"#4fc3f7",transparent:!0,opacity:.2,wireframe:!0})]}),e.jsx("group",{ref:c,children:a.map((r,n)=>e.jsxs("mesh",{position:r,children:[e.jsx("octahedronGeometry",{args:[.08,0]}),e.jsx("meshStandardMaterial",{emissive:"#e1f5fe",emissiveIntensity:3,color:"#e1f5fe",transparent:!0,opacity:.8})]},n))}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.4,.55,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2,color:"#4fc3f7",transparent:!0,opacity:.4,side:x})]}),[...Array(12)].map((r,n)=>{const h=n/12*Math.PI*2,u=.3+Math.random()*.2;return e.jsx(P,{position:[Math.cos(h)*u,0,Math.sin(h)*u],color:"#e1f5fe",speed:.8+Math.random()*.4,delay:n*.1},n)})]})}function P({position:o,color:t,speed:m=1,delay:f=0}){const s=d.useRef(),i=.1,c=1.2;return l(a=>{if(s.current){const r=(a.clock.elapsedTime*m+f)%1.5/1.5;s.current.position.y=i+(c-i)*r,s.current.material.opacity=r<.2?r*5:r>.8?(1-r)*5:1;const n=.03+Math.sin(r*Math.PI)*.02;s.current.scale.set(n,n,n)}}),e.jsxs("mesh",{ref:s,position:[o[0],i,o[2]],children:[e.jsx("sphereGeometry",{args:[1,8,8]}),e.jsx("meshStandardMaterial",{emissive:t,emissiveIntensity:4,color:t,transparent:!0,opacity:.8})]})}function T({square:o,turnsLeft:t}){if(!o)return null;const[m,,f]=y(o),s=d.useRef(),i=d.useRef(),c=t===1?3:t===2?2:1.2,a=t===1?"#76ff03":t===2?"#8bc34a":"#558b2f",r=d.useMemo(()=>[...Array(8)].map(()=>({angle:Math.random()*Math.PI*2,radius:.2+Math.random()*.2,speed:.5+Math.random()*.5,size:.04+Math.random()*.04,phase:Math.random()*Math.PI*2})),[]);return l(n=>{const h=n.clock.elapsedTime;if(s.current&&(s.current.rotation.y=h*.3*c),i.current){const u=Math.sin(h*3*c)*.1+1;i.current.scale.set(u,1,u)}}),e.jsxs("group",{position:[m,0,f],ref:s,children:[e.jsxs("mesh",{ref:i,position:[0,.4,0],children:[e.jsx("cylinderGeometry",{args:[.4,.35,.8,16,1,!0]}),e.jsx("meshStandardMaterial",{emissive:a,emissiveIntensity:c*1.5,color:a,transparent:!0,opacity:.35,side:x})]}),[...Array(6)].map((n,h)=>e.jsx(b,{angle:h/6*Math.PI*2,radius:.35,color:a,speed:c,delay:h*.3},h)),r.map((n,h)=>e.jsx(G,{...n,urgency:c,color:a},h)),t===1&&e.jsxs("mesh",{position:[0,.9,0],children:[e.jsx("octahedronGeometry",{args:[.12,0]}),e.jsx("meshStandardMaterial",{emissive:"#ff1744",emissiveIntensity:4,color:"#ff1744",transparent:!0,opacity:.9})]}),e.jsxs("mesh",{position:[0,.02,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("circleGeometry",{args:[.4,32]}),e.jsx("meshStandardMaterial",{emissive:a,emissiveIntensity:1,color:a,transparent:!0,opacity:.25})]})]})}function b({angle:o,radius:t,color:m,speed:f,delay:s}){const i=d.useRef();return l(c=>{if(i.current){const a=(c.clock.elapsedTime*f+s)%2/2,r=.8-a*.7;i.current.position.y=r,i.current.material.opacity=a<.1?a*10:a>.9?(1-a)*10:.7,i.current.scale.y=1+a*2}}),e.jsxs("mesh",{ref:i,position:[Math.cos(o)*t,.8,Math.sin(o)*t],children:[e.jsx("sphereGeometry",{args:[.03,8,8]}),e.jsx("meshStandardMaterial",{emissive:m,emissiveIntensity:2,color:m,transparent:!0,opacity:.7})]})}function G({angle:o,radius:t,speed:m,size:f,phase:s,urgency:i,color:c}){const a=d.useRef();return l(r=>{if(a.current){const n=(r.clock.elapsedTime*m*i+s)%1.5/1.5,h=.1+n*.8;a.current.position.y=h,a.current.position.x=Math.cos(o+n*2)*t,a.current.position.z=Math.sin(o+n*2)*t,a.current.material.opacity=Math.sin(n*Math.PI)*.6;const u=f*(1+Math.sin(n*Math.PI)*.5);a.current.scale.set(u/.05,u/.05,u/.05)}}),e.jsxs("mesh",{ref:a,position:[Math.cos(o)*t,.1,Math.sin(o)*t],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{emissive:c,emissiveIntensity:3,color:c,transparent:!0,opacity:.5})]})}function k({square:o}){if(!o)return null;const[t,,m]=y(o),f=d.useRef(),s=d.useRef();return l(i=>{const c=i.clock.elapsedTime;if(f.current&&(f.current.rotation.y=c*.5),s.current){const a=Math.sin(c*3)*.1+1;s.current.scale.set(a,a,a)}}),e.jsxs("group",{position:[t,0,m],ref:f,children:[e.jsxs("mesh",{ref:s,position:[0,.4,0],children:[e.jsx("octahedronGeometry",{args:[.5,1]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffca28",transparent:!0,opacity:.25,wireframe:!0})]}),e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("sphereGeometry",{args:[.3,16,16]}),e.jsx("meshStandardMaterial",{emissive:"#fff59d",emissiveIntensity:1.5,color:"#fff59d",transparent:!0,opacity:.2})]}),[0,120,240].map((i,c)=>e.jsx(R,{baseAngle:i,color:"#ffc107"},c)),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffd54f",transparent:!0,opacity:.5})]})]})}function R({baseAngle:o,color:t}){const m=d.useRef();return l(f=>{if(m.current){const s=f.clock.elapsedTime,i=o*Math.PI/180+s*1.5;m.current.position.x=Math.cos(i)*.45,m.current.position.z=Math.sin(i)*.45,m.current.position.y=.4+Math.sin(s*2+o)*.1,m.current.rotation.y=-i}}),e.jsxs("mesh",{ref:m,children:[e.jsx("boxGeometry",{args:[.08,.12,.02]}),e.jsx("meshStandardMaterial",{emissive:t,emissiveIntensity:3,color:t,transparent:!0,opacity:.8})]})}function _({square:o,onComplete:t}){if(!o)return null;const[m,,f]=y(o),[s,i]=d.useState(0),c=d.useRef();l((n,h)=>{i(u=>{const p=u+h*1.2;return p>=1&&t&&t(),Math.min(p,1)}),c.current&&(c.current.rotation.y=n.clock.elapsedTime*2)});const a=S(s),r=s<.8?1:(1-s)*5;return e.jsxs("group",{position:[m,0,f],ref:c,scale:[a,a,a],children:[e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("octahedronGeometry",{args:[.5,1]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:3,color:"#ffca28",transparent:!0,opacity:r*.4,wireframe:!0})]}),[...Array(12)].map((n,h)=>{const u=h/12*Math.PI*2,p=s*.8;return e.jsxs("mesh",{position:[Math.cos(u)*p,.4,Math.sin(u)*p],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#fff59d",emissiveIntensity:4,color:"#fff59d",transparent:!0,opacity:r*.8})]},h)})]})}function w({onComplete:o}){const[t,m]=d.useState(0),f=d.useRef(),s=d.useMemo(()=>[...Array(80)].map(()=>({x:(Math.random()-.5)*12,z:(Math.random()-.5)*12,y:.1+Math.random()*.8,scale:.4+Math.random()*.6,speed:.15+Math.random()*.25,phase:Math.random()*Math.PI*2})),[]);return l((i,c)=>{o&&m(a=>{const r=a+c*.5;return r>=1&&o(),Math.min(r,1)})}),e.jsx("group",{ref:f,children:s.map((i,c)=>e.jsx(E,{...i,progress:t,hasComplete:!!o},c))})}function E({x:o,z:t,y:m,scale:f,speed:s,phase:i,progress:c,hasComplete:a}){const r=d.useRef();return l(n=>{if(r.current){const h=n.clock.elapsedTime;r.current.position.x=o+Math.sin(h*s+i)*.8,r.current.position.z=t+Math.cos(h*s+i)*.8,r.current.position.y=m+Math.sin(h*s*2+i)*.15;const u=a?.2*(1-c):.2;r.current.material.opacity=u+Math.sin(h+i)*.05}}),e.jsxs("mesh",{ref:r,position:[o,m,t],children:[e.jsx("sphereGeometry",{args:[f,12,12]}),e.jsx("meshStandardMaterial",{emissive:"#1a237e",emissiveIntensity:.3,color:"#283593",transparent:!0,opacity:.2})]})}function O({square:o,onComplete:t}){if(!o)return null;const[m,,f]=y(o),[s,i]=d.useState(0);l((a,r)=>{i(n=>{const h=n+r*1.5;return h>=1&&t&&t(),Math.min(h,1)})});const c=1-M(s);return e.jsxs("group",{position:[m,0,f],children:[[0,.15,.3].map((a,r)=>{const n=Math.max(0,Math.min(1,(s-a)/.7)),h=M(n)*1.5,u=(1-n)*.6;return e.jsxs("mesh",{position:[0,.3,0],rotation:[-Math.PI/2,0,0],scale:[h,h,1],children:[e.jsx("ringGeometry",{args:[.3,.4,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffab91",emissiveIntensity:2,color:"#ffccbc",transparent:!0,opacity:u,side:x})]},r)}),e.jsxs("mesh",{position:[0,.3,0],children:[e.jsx("sphereGeometry",{args:[.2*(1-s*.5),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ff8a65",emissiveIntensity:3*c,color:"#ffab91",transparent:!0,opacity:c*.5})]}),[...Array(8)].map((a,r)=>{const n=r/8*Math.PI*2,h=M(s)*1;return e.jsxs("mesh",{position:[Math.cos(n)*h,.3,Math.sin(n)*h],children:[e.jsx("sphereGeometry",{args:[.06*c,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ffccbc",emissiveIntensity:3,color:"#ffccbc",transparent:!0,opacity:c*.8})]},r)})]})}function F({onComplete:o}){const[t,m]=d.useState(0);return l((f,s)=>{m(i=>{const c=i+s*1.2;return c>=1&&o&&o(),Math.min(c,1)})}),e.jsxs("group",{children:[[...Array(20)].map((f,s)=>{const i=s%5*2-4,c=Math.floor(s/5)*2-3,a=s*.03,r=Math.max(0,Math.min(1,(t-a)/.6));return e.jsxs("mesh",{position:[i,.3,c+r*2],rotation:[Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[.1,.8*r]}),e.jsx("meshStandardMaterial",{emissive:"#4dd0e1",emissiveIntensity:3*(1-r),color:"#80deea",transparent:!0,opacity:(1-r)*.7,side:x})]},s)}),e.jsxs("mesh",{position:[0,.1,t*8-4],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[10,.5]}),e.jsx("meshStandardMaterial",{emissive:"#00bcd4",emissiveIntensity:4*(1-t),color:"#4dd0e1",transparent:!0,opacity:(1-t)*.5,side:x})]})]})}function D({square:o,onComplete:t}){if(!o)return null;const[m,,f]=y(o),[s,i]=d.useState(0),c=d.useRef(),a=d.useMemo(()=>[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],[]);return l((r,n)=>{i(h=>{const u=h+n*1.5;return u>=1&&t&&t(),Math.min(u,1)}),c.current&&(c.current.rotation.y=r.clock.elapsedTime*2)}),e.jsxs("group",{position:[m,0,f],ref:c,children:[e.jsxs("mesh",{position:[0,.5,0],children:[e.jsx("sphereGeometry",{args:[.25*(1-s*.3),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ce93d8",emissiveIntensity:3,color:"#e1bee7",transparent:!0,opacity:(1-s)*.6})]}),a.map(([r,n],h)=>{const u=h*.06,p=Math.max(0,Math.min(1,(s-u)/.7)),j=M(p);return e.jsxs("group",{children:[e.jsxs("mesh",{position:[r*.3*j,.4,n*.3*j],children:[e.jsx("sphereGeometry",{args:[.1*(1-p),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ba68c8",emissiveIntensity:3*(1-p),color:"#ce93d8",transparent:!0,opacity:(1-p)*.7})]}),e.jsxs("mesh",{position:[r*.3,.4,n*.3],children:[e.jsx("sphereGeometry",{args:[.08*p,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#e1bee7",emissiveIntensity:2,color:"#e1bee7",transparent:!0,opacity:p*.5*(1-s)})]})]},h)})]})}function W({square:o,onComplete:t}){if(!o)return null;const[m,,f]=y(o),[s,i]=d.useState(0);return l((c,a)=>{i(r=>{const n=r+a*1.2;return n>=1&&t&&t(),Math.min(n,1)})}),e.jsxs("group",{position:[m,0,f],children:[[...Array(8)].map((c,a)=>{const r=a*.12,n=Math.max(0,Math.min(1,(s-r)/.6)),h=.3+n*.3,u=(a-4)*.3;return e.jsxs("mesh",{position:[0,h,u],children:[e.jsx("boxGeometry",{args:[.3,.5*(1-n*.5),.15]}),e.jsx("meshStandardMaterial",{emissive:"#5c6bc0",emissiveIntensity:2*(1-n),color:"#7986cb",transparent:!0,opacity:(1-n)*.5,wireframe:!0})]},a)}),e.jsxs("mesh",{position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.2,.3,.8,8]}),e.jsx("meshStandardMaterial",{emissive:"#7c4dff",emissiveIntensity:2*(1-s),color:"#b388ff",transparent:!0,opacity:(1-s)*.4})]})]})}function Y({onComplete:o}){const[t,m]=d.useState(0),f=d.useRef();return l((s,i)=>{m(c=>{const a=c+i*1.5;return a>=1&&o&&o(),Math.min(a,1)}),f.current&&(f.current.rotation.y=s.clock.elapsedTime*2)}),e.jsxs("group",{ref:f,children:[[...Array(24)].map((s,i)=>{const c=i/24*Math.PI*2,a=t*2.5,r=Math.sin(t*Math.PI)*1.5;return e.jsxs("mesh",{position:[Math.cos(c)*a,.2+r*(.5+Math.random()*.5),Math.sin(c)*a],children:[e.jsx("sphereGeometry",{args:[.06*(1-t*.5),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#76ff03",emissiveIntensity:3*(1-t),color:"#b2ff59",transparent:!0,opacity:(1-t)*.8})]},i)}),e.jsxs("mesh",{position:[0,.3,0],scale:[t*3,t*.5,t*3],children:[e.jsx("cylinderGeometry",{args:[1,1.2,.3,16,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#64dd17",emissiveIntensity:2*(1-t),color:"#76ff03",transparent:!0,opacity:(1-t)*.3,side:x})]})]})}function B({onComplete:o}){const[t,m]=d.useState(0);return l((f,s)=>{m(i=>{const c=i+s*.8;return c>=1&&o&&o(),Math.min(c,1)})}),e.jsxs("group",{children:[[-3.5,-2.5,-1.5,-.5,.5,1.5,2.5,3.5].map((f,s)=>e.jsxs("mesh",{position:[f,M(t)*.4,-2.5],scale:[.8,M(t),.2],children:[e.jsx("boxGeometry",{args:[1,.8,1]}),e.jsx("meshStandardMaterial",{emissive:"#78909c",emissiveIntensity:1.5*(1-t*.5),color:"#90a4ae",transparent:!0,opacity:.7*(1-t*.3)})]},s)),e.jsxs("mesh",{position:[0,.3,-2.5],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[8,1]}),e.jsx("meshStandardMaterial",{emissive:"#b0bec5",emissiveIntensity:2*(1-t),color:"#cfd8dc",transparent:!0,opacity:(1-t)*.4,side:x})]})]})}function V({onComplete:o}){const[t,m]=d.useState(0),f=d.useRef();return l((s,i)=>{m(c=>{const a=c+i*.6;return a>=1&&o&&o(),Math.min(a,1)}),f.current&&(f.current.rotation.y=s.clock.elapsedTime)}),e.jsxs("group",{ref:f,children:[e.jsxs("mesh",{position:[0,3,0],children:[e.jsx("cylinderGeometry",{args:[.1,2,6,32,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#fff9c4",emissiveIntensity:3*M(t),color:"#ffecb3",transparent:!0,opacity:.4*(1-t*.5),side:x})]}),[0,1,2].map(s=>e.jsxs("mesh",{position:[0,.5+s*.4,0],rotation:[-Math.PI/2,0,t*Math.PI*2],scale:[1-s*.2,1-s*.2,1],children:[e.jsx("ringGeometry",{args:[.4,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffecb3",transparent:!0,opacity:.6*(1-t*.5),side:x})]},s)),[...Array(12)].map((s,i)=>{const c=i/12*Math.PI*2,a=i*.05,r=Math.max(0,Math.min(1,(t-a)/.8));return e.jsxs("mesh",{position:[Math.cos(c)*(.5+r*2),2-r*1.5,Math.sin(c)*(.5+r*2)],rotation:[0,-c,Math.PI/4],children:[e.jsx("planeGeometry",{args:[.1,.3]}),e.jsx("meshStandardMaterial",{emissive:"#ffffff",emissiveIntensity:3,color:"#ffffff",transparent:!0,opacity:(1-r)*.8,side:x})]},i)})]})}function H({square:o,onComplete:t}){if(!o)return null;const[m,,f]=y(o),[s,i]=d.useState(0);return l((c,a)=>{i(r=>{const n=r+a*2;return n>=1&&t&&t(),Math.min(n,1)})}),e.jsxs("group",{position:[m,0,f],children:[e.jsxs("mesh",{position:[0,.5,0],rotation:[0,Math.PI/4,0],children:[e.jsx("boxGeometry",{args:[.1,.8*M(s),.02]}),e.jsx("meshStandardMaterial",{emissive:"#f44336",emissiveIntensity:4,color:"#ff5252",transparent:!0,opacity:1-s*.3})]}),e.jsxs("mesh",{position:[0,.5,0],rotation:[0,-Math.PI/4,0],children:[e.jsx("boxGeometry",{args:[.1,.8*M(s),.02]}),e.jsx("meshStandardMaterial",{emissive:"#f44336",emissiveIntensity:4,color:"#ff5252",transparent:!0,opacity:1-s*.3})]}),[...Array(16)].map((c,a)=>{const r=a/16*Math.PI*2,n=s*1.5;return e.jsxs("mesh",{position:[Math.cos(r)*n,.5+Math.sin(s*Math.PI)*.5,Math.sin(r)*n],children:[e.jsx("boxGeometry",{args:[.08,.08,.08]}),e.jsx("meshStandardMaterial",{emissive:"#ff1744",emissiveIntensity:3*(1-s),color:"#ff5252",transparent:!0,opacity:(1-s)*.9})]},a)})]})}function J({onComplete:o}){const[t,m]=d.useState(0);return l((f,s)=>{m(i=>{const c=i+s*.8;return c>=1&&o&&o(),Math.min(c,1)})}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,2,0],rotation:[Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.8,1,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2*M(t),color:"#81d4fa",transparent:!0,opacity:.5*(1-t*.3),side:x})]}),[...Array(24)].map((f,s)=>{const i=s/24*Math.PI*2,c=M(t)*5,a=s*.02,r=Math.max(0,Math.min(1,(t-a)/.8));return e.jsxs("mesh",{position:[Math.cos(i)*c,.1,Math.sin(i)*c],rotation:[0,i,0],children:[e.jsx("coneGeometry",{args:[.1,.4*r,4]}),e.jsx("meshStandardMaterial",{emissive:"#e1f5fe",emissiveIntensity:2,color:"#b3e5fc",transparent:!0,opacity:(1-t*.5)*.7})]},s)}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],scale:[t*6,t*6,1],children:[e.jsx("circleGeometry",{args:[1,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:1.5*(1-t),color:"#81d4fa",transparent:!0,opacity:(1-t)*.3})]})]})}function K({origin:o,chained:t,onComplete:m}){const[f,s]=d.useState(0);l((c,a)=>{s(r=>{const n=r+a*2.5;return n>=1&&m&&m(),Math.min(n,1)})});const i=o?y(o):[0,0,0];return e.jsxs("group",{children:[e.jsxs("mesh",{position:[i[0],.5,i[2]],children:[e.jsx("sphereGeometry",{args:[.2*(1-f*.5),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ffeb3b",emissiveIntensity:5*(1-f),color:"#fff59d",transparent:!0,opacity:(1-f)*.9})]}),(t||[]).map((c,a)=>{const r=y(c),n=a*.1,h=Math.max(0,Math.min(1,(f-n)/.6));return e.jsxs("group",{children:[[...Array(5)].map((u,p)=>{const j=p/4,g=i[0]+(r[0]-i[0])*j*h,I=i[2]+(r[2]-i[2])*j*h,v=Math.sin(p*3+f*10)*.1;return e.jsxs("mesh",{position:[g+v,.5+Math.sin(j*Math.PI)*.3,I+v],children:[e.jsx("sphereGeometry",{args:[.08,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#fff176",emissiveIntensity:4*(1-h*.5),color:"#ffeb3b",transparent:!0,opacity:(1-h)*.9})]},p)}),e.jsxs("mesh",{position:[r[0],.5,r[2]],children:[e.jsx("sphereGeometry",{args:[.15*h,12,12]}),e.jsx("meshStandardMaterial",{emissive:"#ffeb3b",emissiveIntensity:5*h*(1-f),color:"#fff59d",transparent:!0,opacity:h*(1-f)*.9})]})]},a)})]})}function N({shuffledSquares:o=[],onComplete:t}){const[m,f]=d.useState(0),s=d.useRef(),i=150,c=d.useMemo(()=>[...Array(i)].map(()=>({theta:Math.random()*Math.PI*2,phi:Math.random()*Math.PI,speed:1+Math.random()*2,radius:3+Math.random()*3,offset:Math.random()*Math.PI*2,size:.03+Math.random()*.05,color:Math.random()>.5?"#9b59b6":"#8e44ad"})),[]);l((r,n)=>{f(h=>{const u=h+n/3;return u>=1?(t==null||t(),1):u}),s.current&&(s.current.rotation.y+=n*.8)});const a=m<.1?m*10:m>.8?(1-m)*5:1;return e.jsxs("group",{ref:s,position:[0,2,0],children:[e.jsxs("mesh",{children:[e.jsx("torusGeometry",{args:[2,.1,16,100]}),e.jsx("meshStandardMaterial",{emissive:"#9b59b6",emissiveIntensity:3,color:"#8e44ad",transparent:!0,opacity:a*.6})]}),c.map((r,n)=>{const h=m*r.speed+r.offset,u=r.radius*(1-Math.abs(m-.5)),p=Math.sin(r.phi)*Math.cos(r.theta+h*3)*u,j=Math.cos(r.phi)*u*.5+Math.sin(h*5)*.3,g=Math.sin(r.phi)*Math.sin(r.theta+h*3)*u;return e.jsxs("mesh",{position:[p,j,g],children:[e.jsx("sphereGeometry",{args:[r.size,8,8]}),e.jsx("meshStandardMaterial",{emissive:r.color,emissiveIntensity:2,color:r.color,transparent:!0,opacity:a*.8})]},n)}),o.map((r,n)=>{const[h,,u]=y(r),p=n*.5,j=Math.sin(m*Math.PI*4+p)*.2+1;return e.jsxs("mesh",{position:[h,.1,u],scale:[j,1,j],children:[e.jsx("cylinderGeometry",{args:[.4,.4,.05,32]}),e.jsx("meshStandardMaterial",{emissive:"#9b59b6",emissiveIntensity:3*a,color:"#8e44ad",transparent:!0,opacity:a*.6})]},r)})]})}function Q({onComplete:o}){const[t,m]=d.useState(0);return l((f,s)=>{m(i=>{const c=i+s*1.2;return c>=1&&o&&o(),Math.min(c,1)})}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,3,0],rotation:[Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.3,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#7e57c2",emissiveIntensity:3*M(t),color:"#9575cd",transparent:!0,opacity:.7*(1-t*.3),side:x})]}),e.jsxs("mesh",{position:[0,3,0],rotation:[Math.PI/2,0,0],children:[e.jsx("circleGeometry",{args:[.2,32]}),e.jsx("meshStandardMaterial",{emissive:"#311b92",emissiveIntensity:2,color:"#4527a0",transparent:!0,opacity:.9*(1-t*.3)})]}),[...Array(8)].map((f,s)=>{const i=s/8*Math.PI*2+t*Math.PI;return e.jsxs("mesh",{position:[0,1.5,0],rotation:[Math.PI/4,i,0],children:[e.jsx("planeGeometry",{args:[.05,4]}),e.jsx("meshStandardMaterial",{emissive:"#b39ddb",emissiveIntensity:2*(1-t),color:"#d1c4e9",transparent:!0,opacity:(1-t)*.4,side:x})]},s)})]})}function U({square:o,onComplete:t}){const[m,f]=d.useState(0),s=d.useRef(),[i,,c]=o?y(o):[0,0,0];l((r,n)=>{f(h=>{const u=h+n/2;return u>=1?(t==null||t(),1):u}),s.current&&(s.current.rotation.y+=n*.5)});const a=m<.1?m*10:m>.8?(1-m)*5:1;return e.jsxs("group",{position:[i,0,c],ref:s,children:[e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("sphereGeometry",{args:[.5,32,16,0,Math.PI*2,0,Math.PI/2]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:2,color:"#ffeb3b",transparent:!0,opacity:a*.3,side:x})]}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.4,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:3,color:"#ffeb3b",transparent:!0,opacity:a*.6})]}),[...Array(12)].map((r,n)=>{const h=n/12*Math.PI*2,u=.35,p=(m+n*.1)%1;return e.jsxs("mesh",{position:[Math.cos(h)*u,p*.8,Math.sin(h)*u],children:[e.jsx("sphereGeometry",{args:[.02,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:3,color:"#ffeb3b",transparent:!0,opacity:a*(1-p)})]},n)})]})}function X({square:o}){const[t,,m]=o?y(o):[0,0,0],f=d.useRef();return l(s=>{const i=s.clock.elapsedTime;f.current&&(f.current.material.opacity=.3+Math.sin(i*2)*.15)}),e.jsx("group",{position:[t,.12,m],children:e.jsxs("mesh",{ref:f,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:2,color:"#ffeb3b",transparent:!0,opacity:.4,side:x,depthWrite:!1})]})})}function Z({square:o,onComplete:t}){const[m,f]=d.useState(0),s=d.useRef(),[i,,c]=o?y(o):[0,0,0];l((r,n)=>{f(h=>{const u=h+n/2;return u>=1?(t==null||t(),1):u}),s.current&&(s.current.rotation.y-=n*.8)});const a=m<.1?m*10:m>.8?(1-m)*5:1;return e.jsxs("group",{position:[i,0,c],ref:s,children:[e.jsxs("mesh",{position:[0,.1,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.1,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:a*.5})]}),[...Array(20)].map((r,n)=>{const h=n/20*Math.PI*2,u=.3*Math.random()+.1,p=(m*2+n*.05)%1;return e.jsxs("mesh",{position:[Math.cos(h+m*3)*u,p*.6,Math.sin(h+m*3)*u],children:[e.jsx("sphereGeometry",{args:[.015,6,6]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:a*(1-p)*.8})]},n)}),[...Array(4)].map((r,n)=>{const h=n/4*Math.PI*2+m*2;return e.jsxs("mesh",{position:[Math.cos(h)*.3,.2,Math.sin(h)*.3],children:[e.jsx("cylinderGeometry",{args:[.01,.02,.3,8]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:a*.6})]},n)})]})}function $({square:o,turnsLeft:t}){const[m,,f]=o?y(o):[0,0,0],s=d.useRef();return l(i=>{const c=i.clock.elapsedTime;s.current&&(s.current.rotation.z=c*.5,s.current.material.opacity=.3+Math.sin(c*3)*.1)}),e.jsx("group",{position:[m,.12,f],children:e.jsxs("mesh",{ref:s,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.42,6]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:.4,side:x,depthWrite:!1})]})})}export{K as ChainLightningEffect,N as ChaosTheoryEffect,Z as CursedSquareEffect,$ as CursedSquareIndicatorEffect,V as DivineInterventionEffect,H as ExecutionEffect,w as FogOfWarEffect,B as IronFortressEffect,F as PawnRushEffect,D as PhantomStepEffect,Y as PoisonTouchEffect,T as PoisonedPieceEffect,U as SanctuaryEffect,X as SanctuaryIndicatorEffect,A as ShieldGlowEffect,O as SoftPushEffect,W as SpectralMarchEffect,_ as SquireSupportAnimationEffect,k as SquireSupportEffect,J as TimeFreezeEffect,Q as VisionEffect};
