import{r as p,u as M,j as e,A as se,M as w,V as B,S as re,O as ie,C as ne,s as S,D as v}from"./index-DGtg5uiT.js";const R=new ie,k=new ne;function $({count:n=100,config:s={},position:o=[0,0,0],onComplete:m}){const r=p.useRef(),u=p.useRef([]),[h,t]=p.useState(!1),{emitOnce:a=!0,emitRate:i=50,lifetime:f=[.5,1.5],spawnShape:c="point",spawnRadius:l=.5,spawnBox:d=[1,1,1],velocity:y=[0,1,0],velocitySpread:x=[.5,.5,.5],radialVelocity:j=0,gravity:b=[0,-2,0],drag:T=0,sizeStart:z=.1,sizeEnd:H=0,sizeVariance:J=.02,colorStart:C="#ffffff",colorEnd:K="#ffffff",emissive:N="#ffffff",emissiveIntensity:Q=2,opacityStart:X=1,opacityEnd:Y=0,rotationSpeed:Z=0,blending:L=se,depthWrite:q=!1}=s;p.useEffect(()=>{const F=[];for(let P=0;P<n;P++)F.push({position:new B,velocity:new B,age:a?0:-Math.random()*(n/i),maxAge:w.randFloat(f[0],f[1]),size:z+(Math.random()-.5)*J*2,rotation:Math.random()*Math.PI*2,alive:a}),a&&U(F[P],{spawnShape:c,spawnRadius:l,spawnBox:d,velocity:y,velocitySpread:x,radialVelocity:j});u.current=F},[n]);const A=p.useMemo(()=>new re(1,8,8),[]);return p.useEffect(()=>()=>{A&&A.dispose()},[A]),M((F,P)=>{if(!r.current||h)return;const V=u.current;let W=0,D=0;const ee=a?0:Math.floor(i*P*2);for(let E=0;E<V.length;E++){const g=V[E];if(!a&&!g.alive&&D<ee&&(g.alive=!0,g.age=0,g.maxAge=w.randFloat(f[0],f[1]),U(g,{spawnShape:c,spawnRadius:l,spawnBox:d,velocity:y,velocitySpread:x,radialVelocity:j}),D++),!g.alive){R.scale.set(0,0,0),R.updateMatrix(),r.current.setMatrixAt(E,R.matrix);continue}if(g.age+=P,g.age>=g.maxAge){g.alive=!1,R.scale.set(0,0,0),R.updateMatrix(),r.current.setMatrixAt(E,R.matrix);continue}W++;const O=g.age/g.maxAge;g.velocity.x+=b[0]*P,g.velocity.y+=b[1]*P,g.velocity.z+=b[2]*P,T>0&&g.velocity.multiplyScalar(1-T*P),g.position.x+=g.velocity.x*P,g.position.y+=g.velocity.y*P,g.position.z+=g.velocity.z*P,g.rotation+=Z*P;const _=w.lerp(z,H,ae(O))*g.size/z;R.position.copy(g.position),R.scale.set(_,_,_),R.rotation.z=g.rotation,R.updateMatrix(),r.current.setMatrixAt(E,R.matrix);const te=w.lerp(X,Y,O);k.set(C).lerp(k.set(K),O),k.multiplyScalar(te),r.current.setColorAt(E,k)}r.current.instanceMatrix.needsUpdate=!0,r.current.instanceColor&&(r.current.instanceColor.needsUpdate=!0),a&&W===0&&!h&&(t(!0),m==null||m())}),h?null:e.jsx("group",{position:o,children:e.jsx("instancedMesh",{ref:r,args:[A,void 0,n],frustumCulled:!1,children:e.jsx("meshStandardMaterial",{emissive:N,emissiveIntensity:Q,color:C,transparent:!0,opacity:1,blending:L,depthWrite:q,toneMapped:!1})})})}function U(n,s){const{spawnShape:o,spawnRadius:m,spawnBox:r,velocity:u,velocitySpread:h,radialVelocity:t}=s;switch(o){case"sphere":{const a=Math.random()*Math.PI*2,i=Math.acos(2*Math.random()-1),f=Math.cbrt(Math.random())*m;n.position.set(f*Math.sin(i)*Math.cos(a),f*Math.sin(i)*Math.sin(a),f*Math.cos(i));break}case"ring":{const a=Math.random()*Math.PI*2;n.position.set(Math.cos(a)*m,0,Math.sin(a)*m);break}case"box":{n.position.set((Math.random()-.5)*r[0],(Math.random()-.5)*r[1],(Math.random()-.5)*r[2]);break}default:n.position.set(0,0,0)}if(n.velocity.set(u[0]+(Math.random()-.5)*h[0]*2,u[1]+(Math.random()-.5)*h[1]*2,u[2]+(Math.random()-.5)*h[2]*2),t!==0){const a=n.position.clone().normalize();a.length()<.001&&a.set(Math.random()-.5,Math.random()-.5,Math.random()-.5).normalize(),n.velocity.add(a.multiplyScalar(t))}}const ae=n=>1-Math.pow(1-n,3);function oe({position:n=[0,0,0],count:s=60,color:o="#4fc3f7",radius:m=.45}){const r=p.useRef();return M(u=>{r.current&&(r.current.rotation.y=u.clock.elapsedTime*.8)}),e.jsx("group",{ref:r,position:n,children:e.jsx($,{count:s,config:{emitOnce:!1,emitRate:20,lifetime:[1,2],spawnShape:"ring",spawnRadius:m,velocity:[0,.5,0],velocitySpread:[.1,.1,.1],gravity:[0,0,0],sizeStart:.03,sizeEnd:.01,colorStart:o,colorEnd:"#e1f5fe",emissive:o,emissiveIntensity:4,opacityStart:.9,opacityEnd:0}})})}function ce({position:n=[0,0,0],count:s=40,color:o="#76ff03",intensity:m=1}){return e.jsx($,{position:n,count:s,config:{emitOnce:!1,emitRate:15*m,lifetime:[.8,1.5],spawnShape:"ring",spawnRadius:.3,velocity:[0,-.3,0],velocitySpread:[.2,.1,.2],gravity:[0,-1,0],sizeStart:.04,sizeEnd:.06,colorStart:o,colorEnd:"#b2ff59",emissive:o,emissiveIntensity:2*m,opacityStart:.7,opacityEnd:0}})}const G=n=>1-Math.pow(1-n,3),he=n=>{const s=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*s)+1};function I(n,s=400){const[o,m]=p.useState(!1),[r,u]=p.useState(0);return p.useEffect(()=>{if(!o)return;let h=null,t=null;const a=i=>{t||(t=i);const f=i-t,c=Math.min(f/s,1);u(c),c<1?h=requestAnimationFrame(a):n&&n()};return h=requestAnimationFrame(a),()=>{h&&cancelAnimationFrame(h)}},[o,s,n]),{finishing:o,finishT:r,triggerFinish:()=>m(!0)}}function de({square:n}){if(!n)return null;const[s,,o]=S(n),m=p.useRef(),r=p.useRef(),u=p.useRef(),h=p.useRef(),t=p.useMemo(()=>[...Array(6)].map((a,i)=>{const f=i/6*Math.PI*2;return[Math.cos(f)*.4,.5,Math.sin(f)*.4]}),[]);return M(a=>{const i=a.clock.elapsedTime;if(m.current&&(m.current.rotation.y=i*.5),r.current){const f=Math.sin(i*4)*.08+1;r.current.scale.set(f,1,f),r.current.material.opacity=.3+Math.sin(i*3)*.1}u.current&&(u.current.rotation.y=-i*.3,u.current.material.opacity=.15+Math.sin(i*2)*.05),h.current&&h.current.children.forEach((f,c)=>{const l=c/6*Math.PI*2;f.position.y=.5+Math.sin(i*2+l)*.1,f.material.opacity=.6+Math.sin(i*3+l)*.3})}),e.jsxs("group",{position:[s,0,o],ref:m,children:[e.jsxs("mesh",{ref:r,position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.45,.45,1,32,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2.5,color:"#81d4fa",transparent:!0,opacity:.35,side:v})]}),e.jsxs("mesh",{ref:u,position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.55,.55,.9,6,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#29b6f6",emissiveIntensity:1.5,color:"#4fc3f7",transparent:!0,opacity:.2,wireframe:!0})]}),e.jsx("group",{ref:h,children:t.map((a,i)=>e.jsxs("mesh",{position:a,children:[e.jsx("octahedronGeometry",{args:[.08,0]}),e.jsx("meshStandardMaterial",{emissive:"#e1f5fe",emissiveIntensity:3,color:"#e1f5fe",transparent:!0,opacity:.8})]},i))}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.4,.55,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2,color:"#4fc3f7",transparent:!0,opacity:.4,side:v})]}),e.jsx(oe,{color:"#4fc3f7",radius:.4,count:40})]})}function ye({square:n,turnsLeft:s}){if(!n)return null;const[o,,m]=S(n),r=p.useRef(),u=p.useRef(),h=s===1?3:s===2?2:1.2,t=s===1?"#76ff03":s===2?"#8bc34a":"#558b2f",a=p.useMemo(()=>[...Array(8)].map(()=>({angle:Math.random()*Math.PI*2,radius:.2+Math.random()*.2,speed:.5+Math.random()*.5,size:.04+Math.random()*.04,phase:Math.random()*Math.PI*2})),[]);return M(i=>{const f=i.clock.elapsedTime;if(r.current&&(r.current.rotation.y=f*.3*h),u.current){const c=Math.sin(f*3*h)*.1+1;u.current.scale.set(c,1,c)}}),e.jsxs("group",{position:[o,0,m],ref:r,children:[e.jsxs("mesh",{ref:u,position:[0,.4,0],children:[e.jsx("cylinderGeometry",{args:[.4,.35,.8,16,1,!0]}),e.jsx("meshStandardMaterial",{emissive:t,emissiveIntensity:h*1.5,color:t,transparent:!0,opacity:.35,side:v})]}),[...Array(6)].map((i,f)=>e.jsx(fe,{angle:f/6*Math.PI*2,radius:.35,color:t,speed:h,delay:f*.3},f)),a.map((i,f)=>e.jsx(me,{...i,urgency:h,color:t},f)),s===1&&e.jsxs("mesh",{position:[0,.9,0],children:[e.jsx("octahedronGeometry",{args:[.12,0]}),e.jsx("meshStandardMaterial",{emissive:"#ff1744",emissiveIntensity:4,color:"#ff1744",transparent:!0,opacity:.9})]}),e.jsxs("mesh",{position:[0,.02,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("circleGeometry",{args:[.4,32]}),e.jsx("meshStandardMaterial",{emissive:t,emissiveIntensity:1,color:t,transparent:!0,opacity:.25})]}),e.jsx(ce,{color:t,intensity:h,count:30})]})}function fe({angle:n,radius:s,color:o,speed:m,delay:r}){const u=p.useRef();return M(h=>{if(u.current){const t=(h.clock.elapsedTime*m+r)%2/2,a=.8-t*.7;u.current.position.y=a,u.current.material.opacity=t<.1?t*10:t>.9?(1-t)*10:.7,u.current.scale.y=1+t*2}}),e.jsxs("mesh",{ref:u,position:[Math.cos(n)*s,.8,Math.sin(n)*s],children:[e.jsx("sphereGeometry",{args:[.03,8,8]}),e.jsx("meshStandardMaterial",{emissive:o,emissiveIntensity:2,color:o,transparent:!0,opacity:.7})]})}function me({angle:n,radius:s,speed:o,size:m,phase:r,urgency:u,color:h}){const t=p.useRef();return M(a=>{if(t.current){const i=(a.clock.elapsedTime*o*u+r)%1.5/1.5,f=.1+i*.8;t.current.position.y=f,t.current.position.x=Math.cos(n+i*2)*s,t.current.position.z=Math.sin(n+i*2)*s,t.current.material.opacity=Math.sin(i*Math.PI)*.6;const c=m*(1+Math.sin(i*Math.PI)*.5);t.current.scale.set(c/.05,c/.05,c/.05)}}),e.jsxs("mesh",{ref:t,position:[Math.cos(n)*s,.1,Math.sin(n)*s],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{emissive:h,emissiveIntensity:3,color:h,transparent:!0,opacity:.5})]})}function xe({square:n}){if(!n)return null;const[s,,o]=S(n),m=p.useRef(),r=p.useRef();return M(u=>{const h=u.clock.elapsedTime;if(m.current&&(m.current.rotation.y=h*.5),r.current){const t=Math.sin(h*3)*.1+1;r.current.scale.set(t,t,t)}}),e.jsxs("group",{position:[s,0,o],ref:m,children:[e.jsxs("mesh",{ref:r,position:[0,.4,0],children:[e.jsx("octahedronGeometry",{args:[.5,1]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffca28",transparent:!0,opacity:.25,wireframe:!0})]}),e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("sphereGeometry",{args:[.3,16,16]}),e.jsx("meshStandardMaterial",{emissive:"#fff59d",emissiveIntensity:1.5,color:"#fff59d",transparent:!0,opacity:.2})]}),[0,120,240].map((u,h)=>e.jsx(ue,{baseAngle:u,color:"#ffc107"},h)),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffd54f",transparent:!0,opacity:.5})]})]})}function ue({baseAngle:n,color:s}){const o=p.useRef();return M(m=>{if(o.current){const r=m.clock.elapsedTime,u=n*Math.PI/180+r*1.5;o.current.position.x=Math.cos(u)*.45,o.current.position.z=Math.sin(u)*.45,o.current.position.y=.4+Math.sin(r*2+n)*.1,o.current.rotation.y=-u}}),e.jsxs("mesh",{ref:o,children:[e.jsx("boxGeometry",{args:[.08,.12,.02]}),e.jsx("meshStandardMaterial",{emissive:s,emissiveIntensity:3,color:s,transparent:!0,opacity:.8})]})}function Me({square:n,onComplete:s}){if(!n)return null;const[o,,m]=S(n),[r,u]=p.useState(0),h=p.useRef(),{finishing:t,finishT:a,triggerFinish:i}=I(s,450);M((y,x)=>{u(j=>{const b=j+x*1.2;return b>=1&&(t||i()),Math.min(b,1)}),h.current&&(h.current.rotation.y=y.clock.elapsedTime*2)});const c=he(r)*(1-a*.25),d=(r<.8?1:(1-r)*5)*(1-a);return e.jsxs("group",{position:[o,0,m],ref:h,scale:[c,c,c],children:[e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("octahedronGeometry",{args:[.5,1]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:3,color:"#ffca28",transparent:!0,opacity:d*.4,wireframe:!0})]}),[...Array(12)].map((y,x)=>{const j=x/12*Math.PI*2,b=r*.8;return e.jsxs("mesh",{position:[Math.cos(j)*b,.4,Math.sin(j)*b],children:[e.jsx("sphereGeometry",{args:[.05,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#fff59d",emissiveIntensity:4,color:"#fff59d",transparent:!0,opacity:d*.8})]},x)})]})}function ge({onComplete:n}){const[s,o]=p.useState(0),m=p.useRef(),r=p.useMemo(()=>[...Array(48)].map(()=>({x:(Math.random()-.5)*12,z:(Math.random()-.5)*12,y:.1+Math.random()*.8,scale:.4+Math.random()*.6,speed:.15+Math.random()*.25,phase:Math.random()*Math.PI*2})),[]),{finishing:u,finishT:h,triggerFinish:t}=I(n,500);return M((a,i)=>{o(f=>{const c=f+i*.5;return c>=1&&(u||t()),Math.min(c,1)})}),e.jsx("group",{ref:m,children:r.map((a,i)=>e.jsx(le,{...a,progress:s,hasComplete:!!n,finishT:h},i))})}function le({x:n,z:s,y:o,scale:m,speed:r,phase:u,progress:h,hasComplete:t,finishT:a=0}){const i=p.useRef();return M(f=>{if(i.current){const c=f.clock.elapsedTime;i.current.position.x=n+Math.sin(c*r+u)*.8,i.current.position.z=s+Math.cos(c*r+u)*.8,i.current.position.y=o+Math.sin(c*r*2+u)*.15;const l=t?.15*(1-h):.15;i.current.material.opacity=l*(1-a)+Math.sin(c+u)*.03*(1-a)}}),e.jsxs("mesh",{ref:i,position:[n,o,s],children:[e.jsx("sphereGeometry",{args:[m,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#17202a",emissiveIntensity:.2,color:"#1f2a44",transparent:!0,opacity:.15})]})}function je({square:n,onComplete:s}){if(!n)return null;const[o,,m]=S(n),[r,u]=p.useState(0),{finishing:h,finishT:t,triggerFinish:a}=I(s,300);M((f,c)=>{u(l=>{const d=l+c*1.5;return d>=1&&(h||a()),Math.min(d,1)})});const i=(1-G(r))*(1-t);return e.jsxs("group",{position:[o,0,m],children:[[0,.15,.3].map((f,c)=>{const l=Math.max(0,Math.min(1,(r-f)/.7)),d=G(l)*1.5,y=(1-l)*.6;return e.jsxs("mesh",{position:[0,.3,0],rotation:[-Math.PI/2,0,0],scale:[d,d,1],children:[e.jsx("ringGeometry",{args:[.3,.4,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffab91",emissiveIntensity:2,color:"#ffccbc",transparent:!0,opacity:y*(1-t),side:v})]},c)}),e.jsxs("mesh",{position:[0,.3,0],children:[e.jsx("sphereGeometry",{args:[.2*(1-r*.5),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ff8a65",emissiveIntensity:3*i,color:"#ffab91",transparent:!0,opacity:i*.5})]}),[...Array(8)].map((f,c)=>{const l=c/8*Math.PI*2,d=G(r)*1;return e.jsxs("mesh",{position:[Math.cos(l)*d,.3,Math.sin(l)*d],children:[e.jsx("sphereGeometry",{args:[.06*i,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ffccbc",emissiveIntensity:3,color:"#ffccbc",transparent:!0,opacity:i*.8})]},c)})]})}function ve({onComplete:n}){const[s,o]=p.useState(0),{finishing:m,finishT:r,triggerFinish:u}=I(n,350);return M((h,t)=>{o(a=>{const i=a+t*1.2;return i>=1&&(m||u()),Math.min(i,1)})}),e.jsxs("group",{children:[[...Array(20)].map((h,t)=>{const a=t%5*2-4,i=Math.floor(t/5)*2-3,f=t*.03,c=Math.max(0,Math.min(1,(s-f)/.6));return e.jsxs("mesh",{position:[a,.3,i+c*2],rotation:[Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[.1,.8*c]}),e.jsx("meshStandardMaterial",{emissive:"#4dd0e1",emissiveIntensity:3*(1-c)*(1-r),color:"#80deea",transparent:!0,opacity:(1-c)*.7*(1-r),side:v})]},t)}),e.jsxs("mesh",{position:[0,.1,s*8-4],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[10,.5]}),e.jsx("meshStandardMaterial",{emissive:"#00bcd4",emissiveIntensity:4*(1-s)*(1-r),color:"#4dd0e1",transparent:!0,opacity:(1-s)*.5*(1-r),side:v})]})]})}function Ie({square:n,onComplete:s}){if(!n)return null;const[o,,m]=S(n),[r,u]=p.useState(0),h=p.useRef(),t=p.useMemo(()=>[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],[]),{finishing:a,finishT:i,triggerFinish:f}=I(s,350);return M((c,l)=>{u(d=>{const y=d+l*1.5;return y>=1&&(a||f()),Math.min(y,1)}),h.current&&(h.current.rotation.y=c.clock.elapsedTime*2)}),e.jsxs("group",{position:[o,0,m],ref:h,children:[e.jsxs("mesh",{position:[0,.5,0],children:[e.jsx("sphereGeometry",{args:[.25*(1-r*.3)*(1-i*.3),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ce93d8",emissiveIntensity:3,color:"#e1bee7",transparent:!0,opacity:(1-r)*.6*(1-i)})]}),t.map(([c,l],d)=>{const y=d*.06,x=Math.max(0,Math.min(1,(r-y)/.7)),j=G(x);return e.jsxs("group",{children:[e.jsxs("mesh",{position:[c*.3*j,.4,l*.3*j],children:[e.jsx("sphereGeometry",{args:[.1*(1-x)*(1-i*.25),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ba68c8",emissiveIntensity:3*(1-x)*(1-i),color:"#ce93d8",transparent:!0,opacity:(1-x)*.7*(1-i)})]}),e.jsxs("mesh",{position:[c*.3,.4,l*.3],children:[e.jsx("sphereGeometry",{args:[.08*x*(1-i*.25),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#e1bee7",emissiveIntensity:2,color:"#e1bee7",transparent:!0,opacity:x*.5*(1-r)*(1-i)})]})]},d)})]})}function Se({square:n,onComplete:s}){if(!n)return null;const[o,,m]=S(n),[r,u]=p.useState(0),{finishing:h,finishT:t,triggerFinish:a}=I(s,300);return M((i,f)=>{u(c=>{const l=c+f*1.2;return l>=1&&(h||a()),Math.min(l,1)})}),e.jsxs("group",{position:[o,0,m],children:[[...Array(8)].map((i,f)=>{const c=f*.12,l=Math.max(0,Math.min(1,(r-c)/.6)),d=.3+l*.3,y=(f-4)*.3;return e.jsxs("mesh",{position:[0,d,y],children:[e.jsx("boxGeometry",{args:[.3,.5*(1-l*.5),.15]}),e.jsx("meshStandardMaterial",{emissive:"#5c6bc0",emissiveIntensity:2*(1-l)*(1-t),color:"#7986cb",transparent:!0,opacity:(1-l)*.5*(1-t),wireframe:!0})]},f)}),e.jsxs("mesh",{position:[0,.5,0],children:[e.jsx("cylinderGeometry",{args:[.2,.3,.8,8]}),e.jsx("meshStandardMaterial",{emissive:"#7c4dff",emissiveIntensity:2*(1-r)*(1-t),color:"#b388ff",transparent:!0,opacity:(1-r)*.4*(1-t)})]})]})}function Pe({onComplete:n}){const[s,o]=p.useState(0),m=p.useRef(),{finishing:r,triggerFinish:u}=I(n,300);return M((h,t)=>{o(a=>{const i=a+t*1.5;return i>=1&&(r||u()),Math.min(i,1)}),m.current&&(m.current.rotation.y=h.clock.elapsedTime*2)}),e.jsxs("group",{ref:m,children:[[...Array(24)].map((h,t)=>{const a=t/24*Math.PI*2,i=s*2.5,f=Math.sin(s*Math.PI)*1.5;return e.jsxs("mesh",{position:[Math.cos(a)*i,.2+f*(.5+Math.random()*.5),Math.sin(a)*i],children:[e.jsx("sphereGeometry",{args:[.06*(1-s*.5),8,8]}),e.jsx("meshStandardMaterial",{emissive:"#76ff03",emissiveIntensity:3*(1-s),color:"#b2ff59",transparent:!0,opacity:(1-s)*.8})]},t)}),e.jsxs("mesh",{position:[0,.3,0],scale:[s*3,s*.5,s*3],children:[e.jsx("cylinderGeometry",{args:[1,1.2,.3,16,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#64dd17",emissiveIntensity:2*(1-s),color:"#76ff03",transparent:!0,opacity:(1-s)*.3,side:v})]})]})}function be({onComplete:n}){const[s,o]=p.useState(0),{finishing:m,finishT:r,triggerFinish:u}=I(n,400);return M((h,t)=>{o(a=>{const i=a+t*.8;return i>=1&&(m||u()),Math.min(i,1)})}),e.jsxs("group",{children:[[-3.5,-2.5,-1.5,-.5,.5,1.5,2.5,3.5].map((h,t)=>e.jsxs("mesh",{position:[h,G(s)*.4,-2.5],scale:[.8,G(s),.2],children:[e.jsx("boxGeometry",{args:[1,.8,1]}),e.jsx("meshStandardMaterial",{emissive:"#78909c",emissiveIntensity:1.5*(1-s*.5)*(1-r),color:"#90a4ae",transparent:!0,opacity:.7*(1-s*.3)*(1-r)})]},t)),e.jsxs("mesh",{position:[0,.3,-2.5],rotation:[-Math.PI/2,0,0],children:[e.jsx("planeGeometry",{args:[8,1]}),e.jsx("meshStandardMaterial",{emissive:"#b0bec5",emissiveIntensity:2*(1-s)*(1-r),color:"#cfd8dc",transparent:!0,opacity:(1-s)*.4*(1-r),side:v})]})]})}function Ge({onComplete:n}){const[s,o]=p.useState(0),m=p.useRef(),{finishing:r,finishT:u,triggerFinish:h}=I(n,400);return M((t,a)=>{o(i=>{const f=i+a*.6;return f>=1&&(r||h()),Math.min(f,1)}),m.current&&(m.current.rotation.y=t.clock.elapsedTime*(1-u*.3))}),e.jsxs("group",{ref:m,children:[e.jsxs("mesh",{position:[0,3,0],children:[e.jsx("cylinderGeometry",{args:[.1,2,6,32,1,!0]}),e.jsx("meshStandardMaterial",{emissive:"#fff9c4",emissiveIntensity:3*G(s),color:"#ffecb3",transparent:!0,opacity:.4*(1-s*.5),side:v})]}),[0,1,2].map(t=>e.jsxs("mesh",{position:[0,.5+t*.4,0],rotation:[-Math.PI/2,0,s*Math.PI*2],scale:[1-t*.2,1-t*.2,1],children:[e.jsx("ringGeometry",{args:[.4,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd54f",emissiveIntensity:2,color:"#ffecb3",transparent:!0,opacity:.6*(1-s*.5),side:v})]},t)),[...Array(12)].map((t,a)=>{const i=a/12*Math.PI*2,f=a*.05,c=Math.max(0,Math.min(1,(s-f)/.8));return e.jsxs("mesh",{position:[Math.cos(i)*(.5+c*2),2-c*1.5,Math.sin(i)*(.5+c*2)],rotation:[0,-i,Math.PI/4],children:[e.jsx("planeGeometry",{args:[.1,.3]}),e.jsx("meshStandardMaterial",{emissive:"#ffffff",emissiveIntensity:3,color:"#ffffff",transparent:!0,opacity:(1-c)*.8,side:v})]},a)})]})}function Re({square:n,onComplete:s}){if(!n)return null;const[o,,m]=S(n),[r,u]=p.useState(0),{finishing:h,finishT:t,triggerFinish:a}=I(s,450);return M((i,f)=>{u(c=>{const l=c+f*2;return l>=1&&(h||a()),Math.min(l,1)})}),e.jsxs("group",{position:[o,0,m],children:[e.jsxs("mesh",{position:[0,.5,0],rotation:[0,Math.PI/4,0],scale:[1-t*.2,1-t*.2,1],children:[e.jsx("boxGeometry",{args:[.1,.8*G(r)*(1-t*.3),.02]}),e.jsx("meshStandardMaterial",{emissive:"#f44336",emissiveIntensity:4*(1-t),color:"#ff5252",transparent:!0,opacity:(1-r*.3)*(1-t)})]}),e.jsxs("mesh",{position:[0,.5,0],rotation:[0,-Math.PI/4,0],scale:[1-t*.2,1-t*.2,1],children:[e.jsx("boxGeometry",{args:[.1,.8*G(r)*(1-t*.3),.02]}),e.jsx("meshStandardMaterial",{emissive:"#f44336",emissiveIntensity:4*(1-t),color:"#ff5252",transparent:!0,opacity:(1-r*.3)*(1-t)})]}),[...Array(16)].map((i,f)=>{const c=f/16*Math.PI*2,l=r*1.5;return e.jsxs("mesh",{position:[Math.cos(c)*l,.5+Math.sin(r*Math.PI)*.5,Math.sin(c)*l],children:[e.jsx("boxGeometry",{args:[.08,.08,.08]}),e.jsx("meshStandardMaterial",{emissive:"#ff1744",emissiveIntensity:3*(1-r),color:"#ff5252",transparent:!0,opacity:(1-r)*.9})]},f)})]})}function Ee({onComplete:n}){const[s,o]=p.useState(0),{finishing:m,finishT:r,triggerFinish:u}=I(n,350);return M((h,t)=>{o(a=>{const i=a+t*.8;return i>=1&&(m||u()),Math.min(i,1)})}),e.jsxs("group",{children:[e.jsxs("mesh",{position:[0,2,0],rotation:[Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.8,1,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:2*G(s),color:"#81d4fa",transparent:!0,opacity:.5*(1-s*.3),side:v})]}),[...Array(24)].map((h,t)=>{const a=t/24*Math.PI*2,i=G(s)*5,f=t*.02,c=Math.max(0,Math.min(1,(s-f)/.8));return e.jsxs("mesh",{position:[Math.cos(a)*i,.1,Math.sin(a)*i],rotation:[0,a,0],children:[e.jsx("coneGeometry",{args:[.1,.4*c,4]}),e.jsx("meshStandardMaterial",{emissive:"#e1f5fe",emissiveIntensity:2*(1-r),color:"#b3e5fc",transparent:!0,opacity:(1-s*.5)*.7*(1-r)})]},t)}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],scale:[s*6,s*6,1],children:[e.jsx("circleGeometry",{args:[1,32]}),e.jsx("meshStandardMaterial",{emissive:"#4fc3f7",emissiveIntensity:1.5*(1-s),color:"#81d4fa",transparent:!0,opacity:(1-s)*.3})]})]})}function ze({onComplete:n}){const[s,o]=p.useState(0),{finishing:m,finishT:r,triggerFinish:u}=I(n,500);return M((h,t)=>{o(a=>{const i=a+t*.6;return i>=1&&(m||u()),Math.min(i,1)})}),e.jsxs("group",{children:[[...Array(12)].map((h,t)=>{const a=t/12*Math.PI*2-s*Math.PI*4,i=2+t*.3,f=Math.sin((s+t/12)*Math.PI)*2;return e.jsxs("mesh",{position:[Math.cos(a)*i,f,Math.sin(a)*i],children:[e.jsx("sphereGeometry",{args:[.15,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#3498db",emissiveIntensity:2*(1-s*.5)*(1-r),color:"#64b5f6",transparent:!0,opacity:(1-s*.6)*.8*(1-r)})]},t)}),[...Array(16)].map((h,t)=>{const a=t/16*Math.PI*2+s*.5,i=G(s)*3;return e.jsxs("mesh",{position:[Math.cos(a)*i,.3+Math.sin(s*Math.PI+t)*.2,Math.sin(a)*i],children:[e.jsx("boxGeometry",{args:[.12,.12,.12]}),e.jsx("meshStandardMaterial",{emissive:"#1e88e5",emissiveIntensity:1.5*(1-s),color:"#42a5f5",transparent:!0,opacity:(1-s*.8)*.5})]},`trail-${t}`)}),e.jsxs("mesh",{position:[0,.02,0],rotation:[-Math.PI/2,0,0],scale:[s*8,s*8,1],children:[e.jsx("ringGeometry",{args:[s*3,s*3.2,32]}),e.jsx("meshStandardMaterial",{emissive:"#2196f3",emissiveIntensity:1.5*(1-s),color:"#64b5f6",transparent:!0,opacity:(1-s*.5)*.4})]}),e.jsxs("mesh",{position:[0,1,0],rotation:[0,s*Math.PI*2,0],children:[e.jsx("dodecahedronGeometry",{args:[2,2]}),e.jsx("meshStandardMaterial",{emissive:"#0d47a1",emissiveIntensity:.8*(1-s),color:"#1565c0",transparent:!0,opacity:(1-s*.7)*.3,wireframe:!0})]})]})}function Te({origin:n,chained:s,onComplete:o}){const[m,r]=p.useState(0),{finishing:u,finishT:h,triggerFinish:t}=I(o,300);M((i,f)=>{r(c=>{const l=c+f*2.5;return l>=1&&(u||t()),Math.min(l,1)})});const a=n?S(n):[0,0,0];return e.jsxs("group",{children:[e.jsxs("mesh",{position:[a[0],.5,a[2]],children:[e.jsx("sphereGeometry",{args:[.2*(1-m*.5),16,16]}),e.jsx("meshStandardMaterial",{emissive:"#ffeb3b",emissiveIntensity:5*(1-m),color:"#fff59d",transparent:!0,opacity:(1-m)*.9})]}),(s||[]).map((i,f)=>{const c=S(i),l=f*.1,d=Math.max(0,Math.min(1,(m-l)/.6));return e.jsxs("group",{children:[[...Array(5)].map((y,x)=>{const j=x/4,b=a[0]+(c[0]-a[0])*j*d,T=a[2]+(c[2]-a[2])*j*d,z=Math.sin(x*3+m*10)*.1;return e.jsxs("mesh",{position:[b+z,.5+Math.sin(j*Math.PI)*.3,T+z],children:[e.jsx("sphereGeometry",{args:[.08,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#fff176",emissiveIntensity:4*(1-d*.5)*(1-h),color:"#ffeb3b",transparent:!0,opacity:(1-d)*.9*(1-h)})]},x)}),e.jsxs("mesh",{position:[c[0],.5,c[2]],children:[e.jsx("sphereGeometry",{args:[.15*d,12,12]}),e.jsx("meshStandardMaterial",{emissive:"#ffeb3b",emissiveIntensity:5*d*(1-m)*(1-h),color:"#fff59d",transparent:!0,opacity:d*(1-m)*.9*(1-h)})]})]},f)})]})}function Ae({shuffledSquares:n=[],onComplete:s}){const[o,m]=p.useState(0),r=p.useRef(),u=150,{finishing:h,finishT:t,triggerFinish:a}=I(s,600),i=p.useMemo(()=>[...Array(u)].map(()=>({theta:Math.random()*Math.PI*2,phi:Math.random()*Math.PI,speed:1+Math.random()*2,radius:3+Math.random()*3,offset:Math.random()*Math.PI*2,size:.03+Math.random()*.05,color:Math.random()>.5?"#9b59b6":"#8e44ad"})),[]);M((c,l)=>{m(d=>{const y=d+l/3;return y>=1?(h||a(),1):y}),r.current&&(r.current.rotation.y+=l*.8*(1-t*.5))});const f=(o<.1?o*10:o>.8?(1-o)*5:1)*(1-t);return e.jsxs("group",{ref:r,position:[0,2,0],children:[e.jsxs("mesh",{children:[e.jsx("torusGeometry",{args:[2,.1,16,100]}),e.jsx("meshStandardMaterial",{emissive:"#9b59b6",emissiveIntensity:3*(1-t),color:"#8e44ad",transparent:!0,opacity:f*.6})]}),i.map((c,l)=>{const d=o*c.speed+c.offset,y=c.radius*(1-Math.abs(o-.5)),x=Math.sin(c.phi)*Math.cos(c.theta+d*3)*y,j=Math.cos(c.phi)*y*.5+Math.sin(d*5)*.3,b=Math.sin(c.phi)*Math.sin(c.theta+d*3)*y;return e.jsxs("mesh",{position:[x,j,b],children:[e.jsx("sphereGeometry",{args:[c.size,8,8]}),e.jsx("meshStandardMaterial",{emissive:c.color,emissiveIntensity:2*(1-t),color:c.color,transparent:!0,opacity:f*.8})]},l)}),n.map((c,l)=>{const[d,,y]=S(c),x=l*.5,j=Math.sin(o*Math.PI*4+x)*.2+1;return e.jsxs("mesh",{position:[d,.1,y],scale:[j,1,j],children:[e.jsx("cylinderGeometry",{args:[.4,.4,.05,32]}),e.jsx("meshStandardMaterial",{emissive:"#9b59b6",emissiveIntensity:3*f,color:"#8e44ad",transparent:!0,opacity:f*.6})]},c)})]})}function Fe({onComplete:n}){return p.useEffect(()=>{if(n){const s=setTimeout(()=>n(),0);return()=>clearTimeout(s)}},[n]),null}function we({square:n,onComplete:s}){const[o,m]=p.useState(0),r=p.useRef(),[u,,h]=n?S(n):[0,0,0],{finishing:t,finishT:a,triggerFinish:i}=I(s,400);M((c,l)=>{m(d=>{const y=d+l/2;return y>=1?(t||i(),1):y}),r.current&&(r.current.rotation.y+=l*.5*(1-a*.5))});const f=(o<.1?o*10:o>.8?(1-o)*5:1)*(1-a);return e.jsxs("group",{position:[u,0,h],ref:r,children:[e.jsxs("mesh",{position:[0,.4,0],children:[e.jsx("sphereGeometry",{args:[.5,32,16,0,Math.PI*2,0,Math.PI/2]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:2,color:"#ffeb3b",transparent:!0,opacity:f*.3,side:v})]}),e.jsxs("mesh",{position:[0,.05,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.4,.5,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:3,color:"#ffeb3b",transparent:!0,opacity:f*.6})]}),[...Array(12)].map((c,l)=>{const d=l/12*Math.PI*2,y=.35,x=(o+l*.1)%1;return e.jsxs("mesh",{position:[Math.cos(d)*y,x*.8,Math.sin(d)*y],children:[e.jsx("sphereGeometry",{args:[.02,8,8]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:3,color:"#ffeb3b",transparent:!0,opacity:f*(1-x)})]},l)})]})}function ke({square:n}){const[s,,o]=n?S(n):[0,0,0],m=p.useRef(),r=p.useRef();return M(u=>{const h=u.clock.elapsedTime;m.current&&(m.current.material.opacity=.3+Math.sin(h*2)*.15),r.current&&(r.current.material.opacity=.2+Math.sin(h*1.5)*.1)}),e.jsxs("group",{position:[s,.12,o],children:[e.jsxs("mesh",{position:[0,-.1,0],rotation:[-Math.PI/2,0,0],ref:r,children:[e.jsx("circleGeometry",{args:[.48,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:1.5,color:"#ffeb3b",transparent:!0,opacity:.25,side:v,depthWrite:!1})]}),e.jsxs("mesh",{ref:m,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#ffd700",emissiveIntensity:2,color:"#ffeb3b",transparent:!0,opacity:.4,side:v,depthWrite:!1})]})]})}function Oe({square:n,onComplete:s}){const[o,m]=p.useState(0),r=p.useRef(),{finishing:u,finishT:h,triggerFinish:t}=I(s,400),[a,,i]=n?S(n):[0,0,0];M((c,l)=>{m(d=>{const y=d+l/2;return y>=1?(u||t(),1):y}),r.current&&(r.current.rotation.y-=l*.8*(1-h*.5))});const f=(o<.1?o*10:o>.8?(1-o)*5:1)*(1-h);return e.jsxs("group",{position:[a,0,i],ref:r,children:[e.jsxs("mesh",{position:[0,.1,0],rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.1,.45,32]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:f*.5})]}),[...Array(20)].map((c,l)=>{const d=l/20*Math.PI*2,y=.3*Math.random()+.1,x=(o*2+l*.05)%1;return e.jsxs("mesh",{position:[Math.cos(d+o*3)*y,x*.6,Math.sin(d+o*3)*y],children:[e.jsx("sphereGeometry",{args:[.015,6,6]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:f*(1-x)*.8})]},l)}),[...Array(4)].map((c,l)=>{const d=l/4*Math.PI*2+o*2;return e.jsxs("mesh",{position:[Math.cos(d)*.3,.2,Math.sin(d)*.3],children:[e.jsx("cylinderGeometry",{args:[.01,.02,.3,8]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:f*.6})]},l)})]})}function _e({square:n,turnsLeft:s}){const[o,,m]=n?S(n):[0,0,0],r=p.useRef(),u=p.useRef();return M(h=>{const t=h.clock.elapsedTime;r.current&&(r.current.rotation.z=t*.5,r.current.material.opacity=.3+Math.sin(t*3)*.1),u.current&&(u.current.material.opacity=.25+Math.sin(t*2)*.1)}),e.jsxs("group",{position:[o,.12,m],children:[e.jsxs("mesh",{position:[0,-.1,0],rotation:[-Math.PI/2,0,0],ref:u,children:[e.jsx("circleGeometry",{args:[.48,32]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:1.2,color:"#dc143c",transparent:!0,opacity:.3,side:v,depthWrite:!1})]}),e.jsxs("mesh",{ref:r,rotation:[-Math.PI/2,0,0],children:[e.jsx("ringGeometry",{args:[.35,.42,6]}),e.jsx("meshStandardMaterial",{emissive:"#8b0000",emissiveIntensity:2,color:"#dc143c",transparent:!0,opacity:.4,side:v,depthWrite:!1})]})]})}export{Te as ChainLightningEffect,Ae as ChaosTheoryEffect,Oe as CursedSquareEffect,_e as CursedSquareIndicatorEffect,Ge as DivineInterventionEffect,Re as ExecutionEffect,ge as FogOfWarEffect,be as IronFortressEffect,ve as PawnRushEffect,Ie as PhantomStepEffect,Pe as PoisonTouchEffect,ye as PoisonedPieceEffect,we as SanctuaryEffect,ke as SanctuaryIndicatorEffect,de as ShieldGlowEffect,je as SoftPushEffect,Se as SpectralMarchEffect,Me as SquireSupportAnimationEffect,xe as SquireSupportEffect,Ee as TimeFreezeEffect,ze as TimeTravelEffect,Fe as VisionEffect};
